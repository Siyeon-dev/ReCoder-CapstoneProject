{"ast":null,"code":"/*********************************************************************\n * This is a fork from the CSS Style Declaration part of\n * https://github.com/NV/CSSOM\n ********************************************************************/\n'use strict';\n\nvar CSSOM = require('cssom');\n\nvar allProperties = require('./allProperties');\n\nvar allExtraProperties = require('./allExtraProperties');\n\nvar implementedProperties = require('./implementedProperties');\n\nvar {\n  dashedToCamelCase\n} = require('./parsers');\n\nvar getBasicPropertyDescriptor = require('./utils/getBasicPropertyDescriptor');\n/**\n * @constructor\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration\n */\n\n\nvar CSSStyleDeclaration = function CSSStyleDeclaration(onChangeCallback) {\n  this._values = {};\n  this._importants = {};\n  this._length = 0;\n\n  this._onChange = onChangeCallback || function () {\n    return;\n  };\n};\n\nCSSStyleDeclaration.prototype = {\n  constructor: CSSStyleDeclaration,\n\n  /**\n   *\n   * @param {string} name\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-getPropertyValue\n   * @return {string} the value of the property if it has been explicitly set for this declaration block.\n   * Returns the empty string if the property has not been set.\n   */\n  getPropertyValue: function (name) {\n    if (!this._values.hasOwnProperty(name)) {\n      return '';\n    }\n\n    return this._values[name].toString();\n  },\n\n  /**\n   *\n   * @param {string} name\n   * @param {string} value\n   * @param {string} [priority=null] \"important\" or null\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-setProperty\n   */\n  setProperty: function (name, value, priority) {\n    if (value === undefined) {\n      return;\n    }\n\n    if (value === null || value === '') {\n      this.removeProperty(name);\n      return;\n    }\n\n    var isCustomProperty = name.indexOf('--') === 0;\n\n    if (isCustomProperty) {\n      this._setProperty(name, value, priority);\n\n      return;\n    }\n\n    var lowercaseName = name.toLowerCase();\n\n    if (!allProperties.has(lowercaseName) && !allExtraProperties.has(lowercaseName)) {\n      return;\n    }\n\n    this[lowercaseName] = value;\n    this._importants[lowercaseName] = priority;\n  },\n  _setProperty: function (name, value, priority) {\n    if (value === undefined) {\n      return;\n    }\n\n    if (value === null || value === '') {\n      this.removeProperty(name);\n      return;\n    }\n\n    if (this._values[name]) {\n      // Property already exist. Overwrite it.\n      var index = Array.prototype.indexOf.call(this, name);\n\n      if (index < 0) {\n        this[this._length] = name;\n        this._length++;\n      }\n    } else {\n      // New property.\n      this[this._length] = name;\n      this._length++;\n    }\n\n    this._values[name] = value;\n    this._importants[name] = priority;\n\n    this._onChange(this.cssText);\n  },\n\n  /**\n   *\n   * @param {string} name\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-removeProperty\n   * @return {string} the value of the property if it has been explicitly set for this declaration block.\n   * Returns the empty string if the property has not been set or the property name does not correspond to a known CSS property.\n   */\n  removeProperty: function (name) {\n    if (!this._values.hasOwnProperty(name)) {\n      return '';\n    }\n\n    var prevValue = this._values[name];\n    delete this._values[name];\n    delete this._importants[name];\n    var index = Array.prototype.indexOf.call(this, name);\n\n    if (index < 0) {\n      return prevValue;\n    } // That's what WebKit and Opera do\n\n\n    Array.prototype.splice.call(this, index, 1); // That's what Firefox does\n    //this[index] = \"\"\n\n    this._onChange(this.cssText);\n\n    return prevValue;\n  },\n\n  /**\n   *\n   * @param {String} name\n   */\n  getPropertyPriority: function (name) {\n    return this._importants[name] || '';\n  },\n  getPropertyCSSValue: function () {\n    //FIXME\n    return;\n  },\n\n  /**\n   *   element.style.overflow = \"auto\"\n   *   element.style.getPropertyShorthand(\"overflow-x\")\n   *   -> \"overflow\"\n   */\n  getPropertyShorthand: function () {\n    //FIXME\n    return;\n  },\n  isPropertyImplicit: function () {\n    //FIXME\n    return;\n  },\n\n  /**\n   *   http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-item\n   */\n  item: function (index) {\n    index = parseInt(index, 10);\n\n    if (index < 0 || index >= this._length) {\n      return '';\n    }\n\n    return this[index];\n  }\n};\nObject.defineProperties(CSSStyleDeclaration.prototype, {\n  cssText: {\n    get: function () {\n      var properties = [];\n      var i;\n      var name;\n      var value;\n      var priority;\n\n      for (i = 0; i < this._length; i++) {\n        name = this[i];\n        value = this.getPropertyValue(name);\n        priority = this.getPropertyPriority(name);\n\n        if (priority !== '') {\n          priority = ' !' + priority;\n        }\n\n        properties.push([name, ': ', value, priority, ';'].join(''));\n      }\n\n      return properties.join(' ');\n    },\n    set: function (value) {\n      var i;\n      this._values = {};\n      Array.prototype.splice.call(this, 0, this._length);\n      this._importants = {};\n      var dummyRule;\n\n      try {\n        dummyRule = CSSOM.parse('#bogus{' + value + '}').cssRules[0].style;\n      } catch (err) {\n        // malformed css, just return\n        return;\n      }\n\n      var rule_length = dummyRule.length;\n      var name;\n\n      for (i = 0; i < rule_length; ++i) {\n        name = dummyRule[i];\n        this.setProperty(dummyRule[i], dummyRule.getPropertyValue(name), dummyRule.getPropertyPriority(name));\n      }\n\n      this._onChange(this.cssText);\n    },\n    enumerable: true,\n    configurable: true\n  },\n  parentRule: {\n    get: function () {\n      return null;\n    },\n    enumerable: true,\n    configurable: true\n  },\n  length: {\n    get: function () {\n      return this._length;\n    },\n\n    /**\n     * This deletes indices if the new length is less then the current\n     * length. If the new length is more, it does nothing, the new indices\n     * will be undefined until set.\n     **/\n    set: function (value) {\n      var i;\n\n      for (i = value; i < this._length; i++) {\n        delete this[i];\n      }\n\n      this._length = value;\n    },\n    enumerable: true,\n    configurable: true\n  }\n});\n\nrequire('./properties')(CSSStyleDeclaration.prototype);\n\nallProperties.forEach(function (property) {\n  if (!implementedProperties.has(property)) {\n    var declaration = getBasicPropertyDescriptor(property);\n    Object.defineProperty(CSSStyleDeclaration.prototype, property, declaration);\n    Object.defineProperty(CSSStyleDeclaration.prototype, dashedToCamelCase(property), declaration);\n  }\n});\nallExtraProperties.forEach(function (property) {\n  if (!implementedProperties.has(property)) {\n    var declaration = getBasicPropertyDescriptor(property);\n    Object.defineProperty(CSSStyleDeclaration.prototype, property, declaration);\n    Object.defineProperty(CSSStyleDeclaration.prototype, dashedToCamelCase(property), declaration);\n  }\n});\nexports.CSSStyleDeclaration = CSSStyleDeclaration;","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/cssstyle/lib/CSSStyleDeclaration.js"],"names":["CSSOM","require","allProperties","allExtraProperties","implementedProperties","dashedToCamelCase","getBasicPropertyDescriptor","CSSStyleDeclaration","onChangeCallback","_values","_importants","_length","_onChange","prototype","constructor","getPropertyValue","name","hasOwnProperty","toString","setProperty","value","priority","undefined","removeProperty","isCustomProperty","indexOf","_setProperty","lowercaseName","toLowerCase","has","index","Array","call","cssText","prevValue","splice","getPropertyPriority","getPropertyCSSValue","getPropertyShorthand","isPropertyImplicit","item","parseInt","Object","defineProperties","get","properties","i","push","join","set","dummyRule","parse","cssRules","style","err","rule_length","length","enumerable","configurable","parentRule","forEach","property","declaration","defineProperty","exports"],"mappings":"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","sourcesContent":["/*********************************************************************\n * This is a fork from the CSS Style Declaration part of\n * https://github.com/NV/CSSOM\n ********************************************************************/\n'use strict';\nvar CSSOM = require('cssom');\nvar allProperties = require('./allProperties');\nvar allExtraProperties = require('./allExtraProperties');\nvar implementedProperties = require('./implementedProperties');\nvar { dashedToCamelCase } = require('./parsers');\nvar getBasicPropertyDescriptor = require('./utils/getBasicPropertyDescriptor');\n\n/**\n * @constructor\n * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration\n */\nvar CSSStyleDeclaration = function CSSStyleDeclaration(onChangeCallback) {\n  this._values = {};\n  this._importants = {};\n  this._length = 0;\n  this._onChange =\n    onChangeCallback ||\n    function() {\n      return;\n    };\n};\nCSSStyleDeclaration.prototype = {\n  constructor: CSSStyleDeclaration,\n\n  /**\n   *\n   * @param {string} name\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-getPropertyValue\n   * @return {string} the value of the property if it has been explicitly set for this declaration block.\n   * Returns the empty string if the property has not been set.\n   */\n  getPropertyValue: function(name) {\n    if (!this._values.hasOwnProperty(name)) {\n      return '';\n    }\n    return this._values[name].toString();\n  },\n\n  /**\n   *\n   * @param {string} name\n   * @param {string} value\n   * @param {string} [priority=null] \"important\" or null\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-setProperty\n   */\n  setProperty: function(name, value, priority) {\n    if (value === undefined) {\n      return;\n    }\n    if (value === null || value === '') {\n      this.removeProperty(name);\n      return;\n    }\n    var isCustomProperty = name.indexOf('--') === 0;\n    if (isCustomProperty) {\n      this._setProperty(name, value, priority);\n      return;\n    }\n    var lowercaseName = name.toLowerCase();\n    if (!allProperties.has(lowercaseName) && !allExtraProperties.has(lowercaseName)) {\n      return;\n    }\n\n    this[lowercaseName] = value;\n    this._importants[lowercaseName] = priority;\n  },\n  _setProperty: function(name, value, priority) {\n    if (value === undefined) {\n      return;\n    }\n    if (value === null || value === '') {\n      this.removeProperty(name);\n      return;\n    }\n    if (this._values[name]) {\n      // Property already exist. Overwrite it.\n      var index = Array.prototype.indexOf.call(this, name);\n      if (index < 0) {\n        this[this._length] = name;\n        this._length++;\n      }\n    } else {\n      // New property.\n      this[this._length] = name;\n      this._length++;\n    }\n    this._values[name] = value;\n    this._importants[name] = priority;\n    this._onChange(this.cssText);\n  },\n\n  /**\n   *\n   * @param {string} name\n   * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-removeProperty\n   * @return {string} the value of the property if it has been explicitly set for this declaration block.\n   * Returns the empty string if the property has not been set or the property name does not correspond to a known CSS property.\n   */\n  removeProperty: function(name) {\n    if (!this._values.hasOwnProperty(name)) {\n      return '';\n    }\n\n    var prevValue = this._values[name];\n    delete this._values[name];\n    delete this._importants[name];\n\n    var index = Array.prototype.indexOf.call(this, name);\n    if (index < 0) {\n      return prevValue;\n    }\n\n    // That's what WebKit and Opera do\n    Array.prototype.splice.call(this, index, 1);\n\n    // That's what Firefox does\n    //this[index] = \"\"\n\n    this._onChange(this.cssText);\n    return prevValue;\n  },\n\n  /**\n   *\n   * @param {String} name\n   */\n  getPropertyPriority: function(name) {\n    return this._importants[name] || '';\n  },\n\n  getPropertyCSSValue: function() {\n    //FIXME\n    return;\n  },\n\n  /**\n   *   element.style.overflow = \"auto\"\n   *   element.style.getPropertyShorthand(\"overflow-x\")\n   *   -> \"overflow\"\n   */\n  getPropertyShorthand: function() {\n    //FIXME\n    return;\n  },\n\n  isPropertyImplicit: function() {\n    //FIXME\n    return;\n  },\n\n  /**\n   *   http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-item\n   */\n  item: function(index) {\n    index = parseInt(index, 10);\n    if (index < 0 || index >= this._length) {\n      return '';\n    }\n    return this[index];\n  },\n};\n\nObject.defineProperties(CSSStyleDeclaration.prototype, {\n  cssText: {\n    get: function() {\n      var properties = [];\n      var i;\n      var name;\n      var value;\n      var priority;\n      for (i = 0; i < this._length; i++) {\n        name = this[i];\n        value = this.getPropertyValue(name);\n        priority = this.getPropertyPriority(name);\n        if (priority !== '') {\n          priority = ' !' + priority;\n        }\n        properties.push([name, ': ', value, priority, ';'].join(''));\n      }\n      return properties.join(' ');\n    },\n    set: function(value) {\n      var i;\n      this._values = {};\n      Array.prototype.splice.call(this, 0, this._length);\n      this._importants = {};\n      var dummyRule;\n      try {\n        dummyRule = CSSOM.parse('#bogus{' + value + '}').cssRules[0].style;\n      } catch (err) {\n        // malformed css, just return\n        return;\n      }\n      var rule_length = dummyRule.length;\n      var name;\n      for (i = 0; i < rule_length; ++i) {\n        name = dummyRule[i];\n        this.setProperty(\n          dummyRule[i],\n          dummyRule.getPropertyValue(name),\n          dummyRule.getPropertyPriority(name)\n        );\n      }\n      this._onChange(this.cssText);\n    },\n    enumerable: true,\n    configurable: true,\n  },\n  parentRule: {\n    get: function() {\n      return null;\n    },\n    enumerable: true,\n    configurable: true,\n  },\n  length: {\n    get: function() {\n      return this._length;\n    },\n    /**\n     * This deletes indices if the new length is less then the current\n     * length. If the new length is more, it does nothing, the new indices\n     * will be undefined until set.\n     **/\n    set: function(value) {\n      var i;\n      for (i = value; i < this._length; i++) {\n        delete this[i];\n      }\n      this._length = value;\n    },\n    enumerable: true,\n    configurable: true,\n  },\n});\n\nrequire('./properties')(CSSStyleDeclaration.prototype);\n\nallProperties.forEach(function(property) {\n  if (!implementedProperties.has(property)) {\n    var declaration = getBasicPropertyDescriptor(property);\n    Object.defineProperty(CSSStyleDeclaration.prototype, property, declaration);\n    Object.defineProperty(CSSStyleDeclaration.prototype, dashedToCamelCase(property), declaration);\n  }\n});\n\nallExtraProperties.forEach(function(property) {\n  if (!implementedProperties.has(property)) {\n    var declaration = getBasicPropertyDescriptor(property);\n    Object.defineProperty(CSSStyleDeclaration.prototype, property, declaration);\n    Object.defineProperty(CSSStyleDeclaration.prototype, dashedToCamelCase(property), declaration);\n  }\n});\n\nexports.CSSStyleDeclaration = CSSStyleDeclaration;\n"]},"metadata":{},"sourceType":"script"}