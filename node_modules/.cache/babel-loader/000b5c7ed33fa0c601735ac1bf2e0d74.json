{"ast":null,"code":"\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst {\n  DOCUMENT_POSITION_CONTAINS,\n  DOCUMENT_POSITION_CONTAINED_BY\n} = require(\"../node-document-position\");\n\nconst Element = require(\"../generated/Element\");\n\nconst Node = require(\"../generated/Node\");\n\nconst HTMLCollectionImpl = require(\"./HTMLCollection-impl\").implementation;\n\nexports.implementation = class HTMLOptionsCollectionImpl extends HTMLCollectionImpl {\n  // inherits supported property indices\n  get length() {\n    this._update();\n\n    return this._list.length;\n  }\n\n  set length(value) {\n    this._update();\n\n    if (value > this._list.length) {\n      const doc = this._element._ownerDocument;\n\n      for (let i = this._list.length; i < value; i++) {\n        const el = doc.createElement(\"option\");\n\n        this._element.appendChild(el);\n      }\n    } else if (value < this._list.length) {\n      for (let i = this._list.length - 1; i >= value; i--) {\n        const el = this._list[i];\n\n        this._element.removeChild(el);\n      }\n    }\n  }\n\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n\n    const result = new Set();\n\n    for (const element of this._list) {\n      result.add(element.getAttributeNS(null, \"id\"));\n      result.add(element.getAttributeNS(null, \"name\"));\n    }\n\n    return result;\n  }\n\n  [idlUtils.indexedSetNew](index, value) {\n    if (value === null) {\n      this.remove(index);\n      return;\n    }\n\n    this._update();\n\n    const {\n      length\n    } = this._list;\n    const n = index - length;\n\n    if (n > 0) {\n      const doc = this._element._ownerDocument;\n      const frag = doc.createDocumentFragment(); // Spec says n - 1, but n seems to be the right number here.\n\n      for (let i = 0; i < n; i++) {\n        const el = doc.createElement(\"option\");\n        frag.appendChild(el);\n      }\n\n      this._element._append(frag);\n    }\n\n    if (n >= 0) {\n      this._element._append(value);\n    } else {\n      this._element._replace(value, this._list[index]);\n    }\n  }\n\n  [idlUtils.indexedSetExisting](index, value) {\n    return this[idlUtils.indexedSetNew](index, value);\n  }\n\n  add(element, before) {\n    if (this._element.compareDocumentPosition(element) & DOCUMENT_POSITION_CONTAINS) {\n      throw DOMException.create(this._globalObject, [\"The operation would yield an incorrect node tree.\", \"HierarchyRequestError\"]);\n    }\n\n    if (Element.isImpl(before) && !(this._element.compareDocumentPosition(before) & DOCUMENT_POSITION_CONTAINED_BY)) {\n      throw DOMException.create(this._globalObject, [\"The object can not be found here.\", \"NotFoundError\"]);\n    }\n\n    if (element === before) {\n      return;\n    }\n\n    let reference = null;\n\n    if (Node.isImpl(before)) {\n      reference = before;\n    } else if (typeof before === \"number\") {\n      this._update();\n\n      reference = this._list[before] || null;\n    }\n\n    const parent = reference !== null ? reference.parentNode : this._element;\n\n    parent._preInsert(element, reference);\n  }\n\n  remove(index) {\n    this._update();\n\n    if (this._list.length === 0) {\n      return;\n    }\n\n    if (index < 0 || index >= this._list.length) {\n      return;\n    }\n\n    const element = this._list[index];\n\n    element.parentNode._remove(element);\n  }\n\n  get selectedIndex() {\n    return this._element.selectedIndex;\n  }\n\n  set selectedIndex(value) {\n    this._element.selectedIndex = value;\n  }\n\n};","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOptionsCollection-impl.js"],"names":["idlUtils","require","DOMException","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","Element","Node","HTMLCollectionImpl","implementation","exports","HTMLOptionsCollectionImpl","length","_update","_list","value","doc","_element","_ownerDocument","i","el","createElement","appendChild","removeChild","supportedPropertyNames","result","Set","element","add","getAttributeNS","indexedSetNew","index","remove","n","frag","createDocumentFragment","_append","_replace","indexedSetExisting","before","compareDocumentPosition","create","_globalObject","isImpl","reference","parent","parentNode","_preInsert","_remove","selectedIndex"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,uBAAD,CAAxB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAC,gCAAD,CAA5B;;AACA,MAAM;AAAEE,EAAAA,0BAAF;AAA8BC,EAAAA;AAA9B,IAAiEH,OAAO,CAAC,2BAAD,CAA9E;;AACA,MAAMI,OAAO,GAAGJ,OAAO,CAAC,sBAAD,CAAvB;;AACA,MAAMK,IAAI,GAAGL,OAAO,CAAC,mBAAD,CAApB;;AACA,MAAMM,kBAAkB,GAAGN,OAAO,CAAC,uBAAD,CAAP,CAAiCO,cAA5D;;AAEAC,OAAO,CAACD,cAAR,GAAyB,MAAME,yBAAN,SAAwCH,kBAAxC,CAA2D;AAClF;AACU,MAANI,MAAM,GAAG;AACX,SAAKC,OAAL;;AACA,WAAO,KAAKC,KAAL,CAAWF,MAAlB;AACD;;AACS,MAANA,MAAM,CAACG,KAAD,EAAQ;AAChB,SAAKF,OAAL;;AACA,QAAIE,KAAK,GAAG,KAAKD,KAAL,CAAWF,MAAvB,EAA+B;AAC7B,YAAMI,GAAG,GAAG,KAAKC,QAAL,CAAcC,cAA1B;;AACA,WAAK,IAAIC,CAAC,GAAG,KAAKL,KAAL,CAAWF,MAAxB,EAAgCO,CAAC,GAAGJ,KAApC,EAA2CI,CAAC,EAA5C,EAAgD;AAC9C,cAAMC,EAAE,GAAGJ,GAAG,CAACK,aAAJ,CAAkB,QAAlB,CAAX;;AACA,aAAKJ,QAAL,CAAcK,WAAd,CAA0BF,EAA1B;AACD;AACF,KAND,MAMO,IAAIL,KAAK,GAAG,KAAKD,KAAL,CAAWF,MAAvB,EAA+B;AACpC,WAAK,IAAIO,CAAC,GAAG,KAAKL,KAAL,CAAWF,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAIJ,KAAzC,EAAgDI,CAAC,EAAjD,EAAqD;AACnD,cAAMC,EAAE,GAAG,KAAKN,KAAL,CAAWK,CAAX,CAAX;;AACA,aAAKF,QAAL,CAAcM,WAAd,CAA0BH,EAA1B;AACD;AACF;AACF;;AAEmC,OAA/BnB,QAAQ,CAACuB,sBAAsB,IAAI;AACtC,SAAKX,OAAL;;AACA,UAAMY,MAAM,GAAG,IAAIC,GAAJ,EAAf;;AACA,SAAK,MAAMC,OAAX,IAAsB,KAAKb,KAA3B,EAAkC;AAChCW,MAAAA,MAAM,CAACG,GAAP,CAAWD,OAAO,CAACE,cAAR,CAAuB,IAAvB,EAA6B,IAA7B,CAAX;AACAJ,MAAAA,MAAM,CAACG,GAAP,CAAWD,OAAO,CAACE,cAAR,CAAuB,IAAvB,EAA6B,MAA7B,CAAX;AACD;;AACD,WAAOJ,MAAP;AACD;;AACsB,GAAtBxB,QAAQ,CAAC6B,aAAa,EAAEC,KAAF,EAAShB,KAAT,EAAgB;AACrC,QAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAKiB,MAAL,CAAYD,KAAZ;AACA;AACD;;AACD,SAAKlB,OAAL;;AACA,UAAM;AAAED,MAAAA;AAAF,QAAa,KAAKE,KAAxB;AACA,UAAMmB,CAAC,GAAGF,KAAK,GAAGnB,MAAlB;;AACA,QAAIqB,CAAC,GAAG,CAAR,EAAW;AACT,YAAMjB,GAAG,GAAG,KAAKC,QAAL,CAAcC,cAA1B;AACA,YAAMgB,IAAI,GAAGlB,GAAG,CAACmB,sBAAJ,EAAb,CAFS,CAGT;;AACA,WAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGc,CAApB,EAAuBd,CAAC,EAAxB,EAA4B;AAC1B,cAAMC,EAAE,GAAGJ,GAAG,CAACK,aAAJ,CAAkB,QAAlB,CAAX;AACAa,QAAAA,IAAI,CAACZ,WAAL,CAAiBF,EAAjB;AACD;;AACD,WAAKH,QAAL,CAAcmB,OAAd,CAAsBF,IAAtB;AACD;;AACD,QAAID,CAAC,IAAI,CAAT,EAAY;AACV,WAAKhB,QAAL,CAAcmB,OAAd,CAAsBrB,KAAtB;AACD,KAFD,MAEO;AACL,WAAKE,QAAL,CAAcoB,QAAd,CAAuBtB,KAAvB,EAA8B,KAAKD,KAAL,CAAWiB,KAAX,CAA9B;AACD;AACF;;AAC2B,GAA3B9B,QAAQ,CAACqC,kBAAkB,EAAEP,KAAF,EAAShB,KAAT,EAAgB;AAC1C,WAAO,KAAKd,QAAQ,CAAC6B,aAAd,EAA6BC,KAA7B,EAAoChB,KAApC,CAAP;AACD;;AACDa,EAAAA,GAAG,CAACD,OAAD,EAAUY,MAAV,EAAkB;AACnB,QAAI,KAAKtB,QAAL,CAAcuB,uBAAd,CAAsCb,OAAtC,IAAiDvB,0BAArD,EAAiF;AAC/E,YAAMD,YAAY,CAACsC,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAC5C,mDAD4C,EAE5C,uBAF4C,CAAxC,CAAN;AAID;;AACD,QAAIpC,OAAO,CAACqC,MAAR,CAAeJ,MAAf,KAA0B,EAAE,KAAKtB,QAAL,CAAcuB,uBAAd,CAAsCD,MAAtC,IAAgDlC,8BAAlD,CAA9B,EAAiH;AAC/G,YAAMF,YAAY,CAACsC,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAAC,mCAAD,EAAsC,eAAtC,CAAxC,CAAN;AACD;;AACD,QAAIf,OAAO,KAAKY,MAAhB,EAAwB;AACtB;AACD;;AAED,QAAIK,SAAS,GAAG,IAAhB;;AACA,QAAIrC,IAAI,CAACoC,MAAL,CAAYJ,MAAZ,CAAJ,EAAyB;AACvBK,MAAAA,SAAS,GAAGL,MAAZ;AACD,KAFD,MAEO,IAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AACrC,WAAK1B,OAAL;;AACA+B,MAAAA,SAAS,GAAG,KAAK9B,KAAL,CAAWyB,MAAX,KAAsB,IAAlC;AACD;;AAED,UAAMM,MAAM,GAAGD,SAAS,KAAK,IAAd,GAAqBA,SAAS,CAACE,UAA/B,GAA4C,KAAK7B,QAAhE;;AACA4B,IAAAA,MAAM,CAACE,UAAP,CAAkBpB,OAAlB,EAA2BiB,SAA3B;AACD;;AACDZ,EAAAA,MAAM,CAACD,KAAD,EAAQ;AACZ,SAAKlB,OAAL;;AACA,QAAI,KAAKC,KAAL,CAAWF,MAAX,KAAsB,CAA1B,EAA6B;AAC3B;AACD;;AACD,QAAImB,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAI,KAAKjB,KAAL,CAAWF,MAArC,EAA6C;AAC3C;AACD;;AACD,UAAMe,OAAO,GAAG,KAAKb,KAAL,CAAWiB,KAAX,CAAhB;;AACAJ,IAAAA,OAAO,CAACmB,UAAR,CAAmBE,OAAnB,CAA2BrB,OAA3B;AACD;;AACgB,MAAbsB,aAAa,GAAG;AAClB,WAAO,KAAKhC,QAAL,CAAcgC,aAArB;AACD;;AACgB,MAAbA,aAAa,CAAClC,KAAD,EAAQ;AACvB,SAAKE,QAAL,CAAcgC,aAAd,GAA8BlC,KAA9B;AACD;;AAnGiF,CAApF","sourcesContent":["\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst { DOCUMENT_POSITION_CONTAINS, DOCUMENT_POSITION_CONTAINED_BY } = require(\"../node-document-position\");\nconst Element = require(\"../generated/Element\");\nconst Node = require(\"../generated/Node\");\nconst HTMLCollectionImpl = require(\"./HTMLCollection-impl\").implementation;\n\nexports.implementation = class HTMLOptionsCollectionImpl extends HTMLCollectionImpl {\n  // inherits supported property indices\n  get length() {\n    this._update();\n    return this._list.length;\n  }\n  set length(value) {\n    this._update();\n    if (value > this._list.length) {\n      const doc = this._element._ownerDocument;\n      for (let i = this._list.length; i < value; i++) {\n        const el = doc.createElement(\"option\");\n        this._element.appendChild(el);\n      }\n    } else if (value < this._list.length) {\n      for (let i = this._list.length - 1; i >= value; i--) {\n        const el = this._list[i];\n        this._element.removeChild(el);\n      }\n    }\n  }\n\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n    const result = new Set();\n    for (const element of this._list) {\n      result.add(element.getAttributeNS(null, \"id\"));\n      result.add(element.getAttributeNS(null, \"name\"));\n    }\n    return result;\n  }\n  [idlUtils.indexedSetNew](index, value) {\n    if (value === null) {\n      this.remove(index);\n      return;\n    }\n    this._update();\n    const { length } = this._list;\n    const n = index - length;\n    if (n > 0) {\n      const doc = this._element._ownerDocument;\n      const frag = doc.createDocumentFragment();\n      // Spec says n - 1, but n seems to be the right number here.\n      for (let i = 0; i < n; i++) {\n        const el = doc.createElement(\"option\");\n        frag.appendChild(el);\n      }\n      this._element._append(frag);\n    }\n    if (n >= 0) {\n      this._element._append(value);\n    } else {\n      this._element._replace(value, this._list[index]);\n    }\n  }\n  [idlUtils.indexedSetExisting](index, value) {\n    return this[idlUtils.indexedSetNew](index, value);\n  }\n  add(element, before) {\n    if (this._element.compareDocumentPosition(element) & DOCUMENT_POSITION_CONTAINS) {\n      throw DOMException.create(this._globalObject, [\n        \"The operation would yield an incorrect node tree.\",\n        \"HierarchyRequestError\"\n      ]);\n    }\n    if (Element.isImpl(before) && !(this._element.compareDocumentPosition(before) & DOCUMENT_POSITION_CONTAINED_BY)) {\n      throw DOMException.create(this._globalObject, [\"The object can not be found here.\", \"NotFoundError\"]);\n    }\n    if (element === before) {\n      return;\n    }\n\n    let reference = null;\n    if (Node.isImpl(before)) {\n      reference = before;\n    } else if (typeof before === \"number\") {\n      this._update();\n      reference = this._list[before] || null;\n    }\n\n    const parent = reference !== null ? reference.parentNode : this._element;\n    parent._preInsert(element, reference);\n  }\n  remove(index) {\n    this._update();\n    if (this._list.length === 0) {\n      return;\n    }\n    if (index < 0 || index >= this._list.length) {\n      return;\n    }\n    const element = this._list[index];\n    element.parentNode._remove(element);\n  }\n  get selectedIndex() {\n    return this._element.selectedIndex;\n  }\n  set selectedIndex(value) {\n    this._element.selectedIndex = value;\n  }\n};\n"]},"metadata":{},"sourceType":"script"}