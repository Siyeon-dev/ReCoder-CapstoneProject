{"ast":null,"code":"\"use strict\";\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nconst {\n  HTML_NS\n} = require(\"../helpers/namespaces\");\n\nconst {\n  domSymbolTree\n} = require(\"../helpers/internal-constants\");\n\nconst {\n  firstChildWithLocalName,\n  childrenByLocalName\n} = require(\"../helpers/traversal\");\n\nconst HTMLCollection = require(\"../generated/HTMLCollection\");\n\nconst NODE_TYPE = require(\"../node-type\");\n\nfunction tHeadInsertionPoint(table) {\n  const iterator = domSymbolTree.childrenIterator(table);\n\n  for (const child of iterator) {\n    if (child.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n      continue;\n    }\n\n    if (child._namespaceURI !== HTML_NS || child._localName !== \"caption\" && child._localName !== \"colgroup\") {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nclass HTMLTableElementImpl extends HTMLElementImpl {\n  get caption() {\n    return firstChildWithLocalName(this, \"caption\");\n  }\n\n  set caption(value) {\n    const currentCaption = this.caption;\n\n    if (currentCaption !== null) {\n      this.removeChild(currentCaption);\n    }\n\n    if (value !== null) {\n      const insertionPoint = this.firstChild;\n      this.insertBefore(value, insertionPoint);\n    }\n\n    return value;\n  }\n\n  get tHead() {\n    return firstChildWithLocalName(this, \"thead\");\n  }\n\n  set tHead(value) {\n    if (value !== null && value._localName !== \"thead\") {\n      throw DOMException.create(this._globalObject, [\"Cannot set a non-thead element as a table header\", \"HierarchyRequestError\"]);\n    }\n\n    const currentHead = this.tHead;\n\n    if (currentHead !== null) {\n      this.removeChild(currentHead);\n    }\n\n    if (value !== null) {\n      const insertionPoint = tHeadInsertionPoint(this);\n      this.insertBefore(value, insertionPoint);\n    }\n  }\n\n  get tFoot() {\n    return firstChildWithLocalName(this, \"tfoot\");\n  }\n\n  set tFoot(value) {\n    if (value !== null && value._localName !== \"tfoot\") {\n      throw DOMException.create(this._globalObject, [\"Cannot set a non-tfoot element as a table footer\", \"HierarchyRequestError\"]);\n    }\n\n    const currentFoot = this.tFoot;\n\n    if (currentFoot !== null) {\n      this.removeChild(currentFoot);\n    }\n\n    if (value !== null) {\n      this.appendChild(value);\n    }\n  }\n\n  get rows() {\n    if (!this._rows) {\n      this._rows = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => {\n          const headerRows = [];\n          const bodyRows = [];\n          const footerRows = [];\n          const iterator = domSymbolTree.childrenIterator(this);\n\n          for (const child of iterator) {\n            if (child.nodeType !== NODE_TYPE.ELEMENT_NODE || child._namespaceURI !== HTML_NS) {\n              continue;\n            }\n\n            if (child._localName === \"thead\") {\n              headerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tbody\") {\n              bodyRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tfoot\") {\n              footerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tr\") {\n              bodyRows.push(child);\n            }\n          }\n\n          return [...headerRows, ...bodyRows, ...footerRows];\n        }\n      });\n    }\n\n    return this._rows;\n  }\n\n  get tBodies() {\n    if (!this._tBodies) {\n      this._tBodies = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => childrenByLocalName(this, \"tbody\")\n      });\n    }\n\n    return this._tBodies;\n  }\n\n  createTBody() {\n    const el = this._ownerDocument.createElement(\"TBODY\");\n\n    const tbodies = childrenByLocalName(this, \"tbody\");\n    const insertionPoint = tbodies[tbodies.length - 1];\n\n    if (insertionPoint) {\n      this.insertBefore(el, insertionPoint.nextSibling);\n    } else {\n      this.appendChild(el);\n    }\n\n    return el;\n  }\n\n  createTHead() {\n    let el = this.tHead;\n\n    if (!el) {\n      el = this.tHead = this._ownerDocument.createElement(\"THEAD\");\n    }\n\n    return el;\n  }\n\n  deleteTHead() {\n    this.tHead = null;\n  }\n\n  createTFoot() {\n    let el = this.tFoot;\n\n    if (!el) {\n      el = this.tFoot = this._ownerDocument.createElement(\"TFOOT\");\n    }\n\n    return el;\n  }\n\n  deleteTFoot() {\n    this.tFoot = null;\n  }\n\n  createCaption() {\n    let el = this.caption;\n\n    if (!el) {\n      el = this.caption = this._ownerDocument.createElement(\"CAPTION\");\n    }\n\n    return el;\n  }\n\n  deleteCaption() {\n    const c = this.caption;\n\n    if (c) {\n      c.parentNode.removeChild(c);\n    }\n  }\n\n  insertRow(index) {\n    if (index < -1 || index > this.rows.length) {\n      throw DOMException.create(this._globalObject, [\"Cannot insert a row at an index that is less than -1 or greater than the number of existing rows\", \"IndexSizeError\"]);\n    }\n\n    const tr = this._ownerDocument.createElement(\"tr\");\n\n    if (this.rows.length === 0 && this.tBodies.length === 0) {\n      const tBody = this._ownerDocument.createElement(\"tbody\");\n\n      tBody.appendChild(tr);\n      this.appendChild(tBody);\n    } else if (this.rows.length === 0) {\n      const tBody = this.tBodies.item(this.tBodies.length - 1);\n      tBody.appendChild(tr);\n    } else if (index === -1 || index === this.rows.length) {\n      const tSection = this.rows.item(this.rows.length - 1).parentNode;\n      tSection.appendChild(tr);\n    } else {\n      const beforeTR = this.rows.item(index);\n      const tSection = beforeTR.parentNode;\n      tSection.insertBefore(tr, beforeTR);\n    }\n\n    return tr;\n  }\n\n  deleteRow(index) {\n    const rowLength = this.rows.length;\n\n    if (index < -1 || index >= rowLength) {\n      throw DOMException.create(this._globalObject, [`Cannot delete a row at index ${index}, where no row exists`, \"IndexSizeError\"]);\n    }\n\n    if (index === -1) {\n      if (rowLength === 0) {\n        return;\n      }\n\n      index = rowLength - 1;\n    }\n\n    const tr = this.rows.item(index);\n    tr.parentNode.removeChild(tr);\n  }\n\n}\n\nmodule.exports = {\n  implementation: HTMLTableElementImpl\n};","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/jsdom/lib/jsdom/living/nodes/HTMLTableElement-impl.js"],"names":["DOMException","require","HTMLElementImpl","implementation","HTML_NS","domSymbolTree","firstChildWithLocalName","childrenByLocalName","HTMLCollection","NODE_TYPE","tHeadInsertionPoint","table","iterator","childrenIterator","child","nodeType","ELEMENT_NODE","_namespaceURI","_localName","HTMLTableElementImpl","caption","value","currentCaption","removeChild","insertionPoint","firstChild","insertBefore","tHead","create","_globalObject","currentHead","tFoot","currentFoot","appendChild","rows","_rows","createImpl","element","query","headerRows","bodyRows","footerRows","push","tBodies","_tBodies","createTBody","el","_ownerDocument","createElement","tbodies","length","nextSibling","createTHead","deleteTHead","createTFoot","deleteTFoot","createCaption","deleteCaption","c","parentNode","insertRow","index","tr","tBody","item","tSection","beforeTR","deleteRow","rowLength","module","exports"],"mappings":"AAAA;;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,gCAAD,CAA5B;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,oBAAD,CAAP,CAA8BE,cAAtD;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAcH,OAAO,CAAC,uBAAD,CAA3B;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAoBJ,OAAO,CAAC,+BAAD,CAAjC;;AACA,MAAM;AAAEK,EAAAA,uBAAF;AAA2BC,EAAAA;AAA3B,IAAmDN,OAAO,CAAC,sBAAD,CAAhE;;AACA,MAAMO,cAAc,GAAGP,OAAO,CAAC,6BAAD,CAA9B;;AACA,MAAMQ,SAAS,GAAGR,OAAO,CAAC,cAAD,CAAzB;;AAEA,SAASS,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC,QAAMC,QAAQ,GAAGP,aAAa,CAACQ,gBAAd,CAA+BF,KAA/B,CAAjB;;AACA,OAAK,MAAMG,KAAX,IAAoBF,QAApB,EAA8B;AAC5B,QAAIE,KAAK,CAACC,QAAN,KAAmBN,SAAS,CAACO,YAAjC,EAA+C;AAC7C;AACD;;AAED,QAAIF,KAAK,CAACG,aAAN,KAAwBb,OAAxB,IAAoCU,KAAK,CAACI,UAAN,KAAqB,SAArB,IAAkCJ,KAAK,CAACI,UAAN,KAAqB,UAA/F,EAA4G;AAC1G,aAAOJ,KAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;AAED,MAAMK,oBAAN,SAAmCjB,eAAnC,CAAmD;AACtC,MAAPkB,OAAO,GAAG;AACZ,WAAOd,uBAAuB,CAAC,IAAD,EAAO,SAAP,CAA9B;AACD;;AAEU,MAAPc,OAAO,CAACC,KAAD,EAAQ;AACjB,UAAMC,cAAc,GAAG,KAAKF,OAA5B;;AACA,QAAIE,cAAc,KAAK,IAAvB,EAA6B;AAC3B,WAAKC,WAAL,CAAiBD,cAAjB;AACD;;AAED,QAAID,KAAK,KAAK,IAAd,EAAoB;AAClB,YAAMG,cAAc,GAAG,KAAKC,UAA5B;AACA,WAAKC,YAAL,CAAkBL,KAAlB,EAAyBG,cAAzB;AACD;;AACD,WAAOH,KAAP;AACD;;AAEQ,MAALM,KAAK,GAAG;AACV,WAAOrB,uBAAuB,CAAC,IAAD,EAAO,OAAP,CAA9B;AACD;;AAEQ,MAALqB,KAAK,CAACN,KAAD,EAAQ;AACf,QAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,CAACH,UAAN,KAAqB,OAA3C,EAAoD;AAClD,YAAMlB,YAAY,CAAC4B,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAC5C,kDAD4C,EAE5C,uBAF4C,CAAxC,CAAN;AAID;;AAED,UAAMC,WAAW,GAAG,KAAKH,KAAzB;;AACA,QAAIG,WAAW,KAAK,IAApB,EAA0B;AACxB,WAAKP,WAAL,CAAiBO,WAAjB;AACD;;AAED,QAAIT,KAAK,KAAK,IAAd,EAAoB;AAClB,YAAMG,cAAc,GAAGd,mBAAmB,CAAC,IAAD,CAA1C;AACA,WAAKgB,YAAL,CAAkBL,KAAlB,EAAyBG,cAAzB;AACD;AACF;;AAEQ,MAALO,KAAK,GAAG;AACV,WAAOzB,uBAAuB,CAAC,IAAD,EAAO,OAAP,CAA9B;AACD;;AAEQ,MAALyB,KAAK,CAACV,KAAD,EAAQ;AACf,QAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,CAACH,UAAN,KAAqB,OAA3C,EAAoD;AAClD,YAAMlB,YAAY,CAAC4B,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAC5C,kDAD4C,EAE5C,uBAF4C,CAAxC,CAAN;AAID;;AAED,UAAMG,WAAW,GAAG,KAAKD,KAAzB;;AACA,QAAIC,WAAW,KAAK,IAApB,EAA0B;AACxB,WAAKT,WAAL,CAAiBS,WAAjB;AACD;;AAED,QAAIX,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAKY,WAAL,CAAiBZ,KAAjB;AACD;AACF;;AAEO,MAAJa,IAAI,GAAG;AACT,QAAI,CAAC,KAAKC,KAAV,EAAiB;AACf,WAAKA,KAAL,GAAa3B,cAAc,CAAC4B,UAAf,CAA0B,KAAKP,aAA/B,EAA8C,EAA9C,EAAkD;AAC7DQ,QAAAA,OAAO,EAAE,IADoD;AAE7DC,QAAAA,KAAK,EAAE,MAAM;AACX,gBAAMC,UAAU,GAAG,EAAnB;AACA,gBAAMC,QAAQ,GAAG,EAAjB;AACA,gBAAMC,UAAU,GAAG,EAAnB;AAEA,gBAAM7B,QAAQ,GAAGP,aAAa,CAACQ,gBAAd,CAA+B,IAA/B,CAAjB;;AACA,eAAK,MAAMC,KAAX,IAAoBF,QAApB,EAA8B;AAC5B,gBAAIE,KAAK,CAACC,QAAN,KAAmBN,SAAS,CAACO,YAA7B,IAA6CF,KAAK,CAACG,aAAN,KAAwBb,OAAzE,EAAkF;AAChF;AACD;;AAED,gBAAIU,KAAK,CAACI,UAAN,KAAqB,OAAzB,EAAkC;AAChCqB,cAAAA,UAAU,CAACG,IAAX,CAAgB,GAAGnC,mBAAmB,CAACO,KAAD,EAAQ,IAAR,CAAtC;AACD,aAFD,MAEO,IAAIA,KAAK,CAACI,UAAN,KAAqB,OAAzB,EAAkC;AACvCsB,cAAAA,QAAQ,CAACE,IAAT,CAAc,GAAGnC,mBAAmB,CAACO,KAAD,EAAQ,IAAR,CAApC;AACD,aAFM,MAEA,IAAIA,KAAK,CAACI,UAAN,KAAqB,OAAzB,EAAkC;AACvCuB,cAAAA,UAAU,CAACC,IAAX,CAAgB,GAAGnC,mBAAmB,CAACO,KAAD,EAAQ,IAAR,CAAtC;AACD,aAFM,MAEA,IAAIA,KAAK,CAACI,UAAN,KAAqB,IAAzB,EAA+B;AACpCsB,cAAAA,QAAQ,CAACE,IAAT,CAAc5B,KAAd;AACD;AACF;;AAED,iBAAO,CAAC,GAAGyB,UAAJ,EAAgB,GAAGC,QAAnB,EAA6B,GAAGC,UAAhC,CAAP;AACD;AAzB4D,OAAlD,CAAb;AA2BD;;AACD,WAAO,KAAKN,KAAZ;AACD;;AAEU,MAAPQ,OAAO,GAAG;AACZ,QAAI,CAAC,KAAKC,QAAV,EAAoB;AAClB,WAAKA,QAAL,GAAgBpC,cAAc,CAAC4B,UAAf,CAA0B,KAAKP,aAA/B,EAA8C,EAA9C,EAAkD;AAChEQ,QAAAA,OAAO,EAAE,IADuD;AAEhEC,QAAAA,KAAK,EAAE,MAAM/B,mBAAmB,CAAC,IAAD,EAAO,OAAP;AAFgC,OAAlD,CAAhB;AAID;;AACD,WAAO,KAAKqC,QAAZ;AACD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,UAAMC,EAAE,GAAG,KAAKC,cAAL,CAAoBC,aAApB,CAAkC,OAAlC,CAAX;;AAEA,UAAMC,OAAO,GAAG1C,mBAAmB,CAAC,IAAD,EAAO,OAAP,CAAnC;AACA,UAAMiB,cAAc,GAAGyB,OAAO,CAACA,OAAO,CAACC,MAAR,GAAiB,CAAlB,CAA9B;;AAEA,QAAI1B,cAAJ,EAAoB;AAClB,WAAKE,YAAL,CAAkBoB,EAAlB,EAAsBtB,cAAc,CAAC2B,WAArC;AACD,KAFD,MAEO;AACL,WAAKlB,WAAL,CAAiBa,EAAjB;AACD;;AACD,WAAOA,EAAP;AACD;;AAEDM,EAAAA,WAAW,GAAG;AACZ,QAAIN,EAAE,GAAG,KAAKnB,KAAd;;AACA,QAAI,CAACmB,EAAL,EAAS;AACPA,MAAAA,EAAE,GAAG,KAAKnB,KAAL,GAAa,KAAKoB,cAAL,CAAoBC,aAApB,CAAkC,OAAlC,CAAlB;AACD;;AACD,WAAOF,EAAP;AACD;;AAEDO,EAAAA,WAAW,GAAG;AACZ,SAAK1B,KAAL,GAAa,IAAb;AACD;;AAED2B,EAAAA,WAAW,GAAG;AACZ,QAAIR,EAAE,GAAG,KAAKf,KAAd;;AACA,QAAI,CAACe,EAAL,EAAS;AACPA,MAAAA,EAAE,GAAG,KAAKf,KAAL,GAAa,KAAKgB,cAAL,CAAoBC,aAApB,CAAkC,OAAlC,CAAlB;AACD;;AACD,WAAOF,EAAP;AACD;;AAEDS,EAAAA,WAAW,GAAG;AACZ,SAAKxB,KAAL,GAAa,IAAb;AACD;;AAEDyB,EAAAA,aAAa,GAAG;AACd,QAAIV,EAAE,GAAG,KAAK1B,OAAd;;AACA,QAAI,CAAC0B,EAAL,EAAS;AACPA,MAAAA,EAAE,GAAG,KAAK1B,OAAL,GAAe,KAAK2B,cAAL,CAAoBC,aAApB,CAAkC,SAAlC,CAApB;AACD;;AACD,WAAOF,EAAP;AACD;;AAEDW,EAAAA,aAAa,GAAG;AACd,UAAMC,CAAC,GAAG,KAAKtC,OAAf;;AACA,QAAIsC,CAAJ,EAAO;AACLA,MAAAA,CAAC,CAACC,UAAF,CAAapC,WAAb,CAAyBmC,CAAzB;AACD;AACF;;AAEDE,EAAAA,SAAS,CAACC,KAAD,EAAQ;AACf,QAAIA,KAAK,GAAG,CAAC,CAAT,IAAcA,KAAK,GAAG,KAAK3B,IAAL,CAAUgB,MAApC,EAA4C;AAC1C,YAAMlD,YAAY,CAAC4B,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAC5C,kGAD4C,EAE5C,gBAF4C,CAAxC,CAAN;AAID;;AAED,UAAMiC,EAAE,GAAG,KAAKf,cAAL,CAAoBC,aAApB,CAAkC,IAAlC,CAAX;;AAEA,QAAI,KAAKd,IAAL,CAAUgB,MAAV,KAAqB,CAArB,IAA0B,KAAKP,OAAL,CAAaO,MAAb,KAAwB,CAAtD,EAAyD;AACvD,YAAMa,KAAK,GAAG,KAAKhB,cAAL,CAAoBC,aAApB,CAAkC,OAAlC,CAAd;;AACAe,MAAAA,KAAK,CAAC9B,WAAN,CAAkB6B,EAAlB;AACA,WAAK7B,WAAL,CAAiB8B,KAAjB;AACD,KAJD,MAIO,IAAI,KAAK7B,IAAL,CAAUgB,MAAV,KAAqB,CAAzB,EAA4B;AACjC,YAAMa,KAAK,GAAG,KAAKpB,OAAL,CAAaqB,IAAb,CAAkB,KAAKrB,OAAL,CAAaO,MAAb,GAAsB,CAAxC,CAAd;AACAa,MAAAA,KAAK,CAAC9B,WAAN,CAAkB6B,EAAlB;AACD,KAHM,MAGA,IAAID,KAAK,KAAK,CAAC,CAAX,IAAgBA,KAAK,KAAK,KAAK3B,IAAL,CAAUgB,MAAxC,EAAgD;AACrD,YAAMe,QAAQ,GAAG,KAAK/B,IAAL,CAAU8B,IAAV,CAAe,KAAK9B,IAAL,CAAUgB,MAAV,GAAmB,CAAlC,EAAqCS,UAAtD;AACAM,MAAAA,QAAQ,CAAChC,WAAT,CAAqB6B,EAArB;AACD,KAHM,MAGA;AACL,YAAMI,QAAQ,GAAG,KAAKhC,IAAL,CAAU8B,IAAV,CAAeH,KAAf,CAAjB;AACA,YAAMI,QAAQ,GAAGC,QAAQ,CAACP,UAA1B;AACAM,MAAAA,QAAQ,CAACvC,YAAT,CAAsBoC,EAAtB,EAA0BI,QAA1B;AACD;;AAED,WAAOJ,EAAP;AACD;;AAEDK,EAAAA,SAAS,CAACN,KAAD,EAAQ;AACf,UAAMO,SAAS,GAAG,KAAKlC,IAAL,CAAUgB,MAA5B;;AACA,QAAIW,KAAK,GAAG,CAAC,CAAT,IAAcA,KAAK,IAAIO,SAA3B,EAAsC;AACpC,YAAMpE,YAAY,CAAC4B,MAAb,CAAoB,KAAKC,aAAzB,EAAwC,CAC3C,gCAA+BgC,KAAM,uBADM,EAE5C,gBAF4C,CAAxC,CAAN;AAID;;AAED,QAAIA,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,UAAIO,SAAS,KAAK,CAAlB,EAAqB;AACnB;AACD;;AAEDP,MAAAA,KAAK,GAAGO,SAAS,GAAG,CAApB;AACD;;AAED,UAAMN,EAAE,GAAG,KAAK5B,IAAL,CAAU8B,IAAV,CAAeH,KAAf,CAAX;AACAC,IAAAA,EAAE,CAACH,UAAH,CAAcpC,WAAd,CAA0BuC,EAA1B;AACD;;AA/MgD;;AAkNnDO,MAAM,CAACC,OAAP,GAAiB;AACfnE,EAAAA,cAAc,EAAEgB;AADD,CAAjB","sourcesContent":["\"use strict\";\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\nconst { HTML_NS } = require(\"../helpers/namespaces\");\nconst { domSymbolTree } = require(\"../helpers/internal-constants\");\nconst { firstChildWithLocalName, childrenByLocalName } = require(\"../helpers/traversal\");\nconst HTMLCollection = require(\"../generated/HTMLCollection\");\nconst NODE_TYPE = require(\"../node-type\");\n\nfunction tHeadInsertionPoint(table) {\n  const iterator = domSymbolTree.childrenIterator(table);\n  for (const child of iterator) {\n    if (child.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n      continue;\n    }\n\n    if (child._namespaceURI !== HTML_NS || (child._localName !== \"caption\" && child._localName !== \"colgroup\")) {\n      return child;\n    }\n  }\n\n  return null;\n}\n\nclass HTMLTableElementImpl extends HTMLElementImpl {\n  get caption() {\n    return firstChildWithLocalName(this, \"caption\");\n  }\n\n  set caption(value) {\n    const currentCaption = this.caption;\n    if (currentCaption !== null) {\n      this.removeChild(currentCaption);\n    }\n\n    if (value !== null) {\n      const insertionPoint = this.firstChild;\n      this.insertBefore(value, insertionPoint);\n    }\n    return value;\n  }\n\n  get tHead() {\n    return firstChildWithLocalName(this, \"thead\");\n  }\n\n  set tHead(value) {\n    if (value !== null && value._localName !== \"thead\") {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot set a non-thead element as a table header\",\n        \"HierarchyRequestError\"\n      ]);\n    }\n\n    const currentHead = this.tHead;\n    if (currentHead !== null) {\n      this.removeChild(currentHead);\n    }\n\n    if (value !== null) {\n      const insertionPoint = tHeadInsertionPoint(this);\n      this.insertBefore(value, insertionPoint);\n    }\n  }\n\n  get tFoot() {\n    return firstChildWithLocalName(this, \"tfoot\");\n  }\n\n  set tFoot(value) {\n    if (value !== null && value._localName !== \"tfoot\") {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot set a non-tfoot element as a table footer\",\n        \"HierarchyRequestError\"\n      ]);\n    }\n\n    const currentFoot = this.tFoot;\n    if (currentFoot !== null) {\n      this.removeChild(currentFoot);\n    }\n\n    if (value !== null) {\n      this.appendChild(value);\n    }\n  }\n\n  get rows() {\n    if (!this._rows) {\n      this._rows = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => {\n          const headerRows = [];\n          const bodyRows = [];\n          const footerRows = [];\n\n          const iterator = domSymbolTree.childrenIterator(this);\n          for (const child of iterator) {\n            if (child.nodeType !== NODE_TYPE.ELEMENT_NODE || child._namespaceURI !== HTML_NS) {\n              continue;\n            }\n\n            if (child._localName === \"thead\") {\n              headerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tbody\") {\n              bodyRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tfoot\") {\n              footerRows.push(...childrenByLocalName(child, \"tr\"));\n            } else if (child._localName === \"tr\") {\n              bodyRows.push(child);\n            }\n          }\n\n          return [...headerRows, ...bodyRows, ...footerRows];\n        }\n      });\n    }\n    return this._rows;\n  }\n\n  get tBodies() {\n    if (!this._tBodies) {\n      this._tBodies = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => childrenByLocalName(this, \"tbody\")\n      });\n    }\n    return this._tBodies;\n  }\n\n  createTBody() {\n    const el = this._ownerDocument.createElement(\"TBODY\");\n\n    const tbodies = childrenByLocalName(this, \"tbody\");\n    const insertionPoint = tbodies[tbodies.length - 1];\n\n    if (insertionPoint) {\n      this.insertBefore(el, insertionPoint.nextSibling);\n    } else {\n      this.appendChild(el);\n    }\n    return el;\n  }\n\n  createTHead() {\n    let el = this.tHead;\n    if (!el) {\n      el = this.tHead = this._ownerDocument.createElement(\"THEAD\");\n    }\n    return el;\n  }\n\n  deleteTHead() {\n    this.tHead = null;\n  }\n\n  createTFoot() {\n    let el = this.tFoot;\n    if (!el) {\n      el = this.tFoot = this._ownerDocument.createElement(\"TFOOT\");\n    }\n    return el;\n  }\n\n  deleteTFoot() {\n    this.tFoot = null;\n  }\n\n  createCaption() {\n    let el = this.caption;\n    if (!el) {\n      el = this.caption = this._ownerDocument.createElement(\"CAPTION\");\n    }\n    return el;\n  }\n\n  deleteCaption() {\n    const c = this.caption;\n    if (c) {\n      c.parentNode.removeChild(c);\n    }\n  }\n\n  insertRow(index) {\n    if (index < -1 || index > this.rows.length) {\n      throw DOMException.create(this._globalObject, [\n        \"Cannot insert a row at an index that is less than -1 or greater than the number of existing rows\",\n        \"IndexSizeError\"\n      ]);\n    }\n\n    const tr = this._ownerDocument.createElement(\"tr\");\n\n    if (this.rows.length === 0 && this.tBodies.length === 0) {\n      const tBody = this._ownerDocument.createElement(\"tbody\");\n      tBody.appendChild(tr);\n      this.appendChild(tBody);\n    } else if (this.rows.length === 0) {\n      const tBody = this.tBodies.item(this.tBodies.length - 1);\n      tBody.appendChild(tr);\n    } else if (index === -1 || index === this.rows.length) {\n      const tSection = this.rows.item(this.rows.length - 1).parentNode;\n      tSection.appendChild(tr);\n    } else {\n      const beforeTR = this.rows.item(index);\n      const tSection = beforeTR.parentNode;\n      tSection.insertBefore(tr, beforeTR);\n    }\n\n    return tr;\n  }\n\n  deleteRow(index) {\n    const rowLength = this.rows.length;\n    if (index < -1 || index >= rowLength) {\n      throw DOMException.create(this._globalObject, [\n        `Cannot delete a row at index ${index}, where no row exists`,\n        \"IndexSizeError\"\n      ]);\n    }\n\n    if (index === -1) {\n      if (rowLength === 0) {\n        return;\n      }\n\n      index = rowLength - 1;\n    }\n\n    const tr = this.rows.item(index);\n    tr.parentNode.removeChild(tr);\n  }\n}\n\nmodule.exports = {\n  implementation: HTMLTableElementImpl\n};\n"]},"metadata":{},"sourceType":"script"}