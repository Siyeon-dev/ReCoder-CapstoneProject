{"ast":null,"code":"\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\n\nconst {\n  isSummaryForParentDetails\n} = require(\"../helpers/details\");\n\nconst focusing = require(\"../helpers/focusing\");\n\nconst {\n  HTML_NS,\n  SVG_NS\n} = require(\"../helpers/namespaces\");\n\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\n\nconst tabIndexReflectAllowedHTMLElements = new Set([\"a\", \"area\", \"button\", \"frame\", \"iframe\", \"input\", \"object\", \"select\", \"textarea\"]);\n\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], {\n      element: this\n    });\n  }\n\n  get dataset() {\n    return this._dataset;\n  } // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n\n\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if (this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) || this._localName === \"summary\" && isSummaryForParentDetails(this)) || this.namespaceURI === SVG_NS && this._localName === \"a\") {\n        return 0;\n      }\n\n      return -1;\n    }\n\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n\n    if (previous === this) {\n      return;\n    }\n\n    ownerDocument._lastFocusedElement = null;\n\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, {\n        bubbles: true\n      });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, {\n          bubbles: true\n        });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, {\n      bubbles: true\n    });\n  }\n\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, {\n      bubbles: true\n    });\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, {\n      bubbles: true\n    });\n  }\n\n}\n\nexports.implementation = HTMLOrSVGElementImpl;","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/jsdom/lib/jsdom/living/nodes/HTMLOrSVGElement-impl.js"],"names":["conversions","require","isSummaryForParentDetails","focusing","HTML_NS","SVG_NS","DOMStringMap","tabIndexReflectAllowedHTMLElements","Set","HTMLOrSVGElementImpl","_initHTMLOrSVGElement","_tabIndex","_dataset","createImpl","_globalObject","element","dataset","tabIndex","hasAttributeNS","namespaceURI","has","_localName","long","getAttributeNS","value","setAttributeNS","String","focus","isFocusableAreaElement","ownerDocument","_ownerDocument","previous","_lastFocusedElement","fireFocusEventWithTargetAdjustment","bubbles","frameElement","_defaultView","_frameElement","frameLastFocusedElement","blur","exports","implementation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst { isSummaryForParentDetails } = require(\"../helpers/details\");\nconst focusing = require(\"../helpers/focusing\");\nconst { HTML_NS, SVG_NS } = require(\"../helpers/namespaces\");\nconst DOMStringMap = require(\"../generated/DOMStringMap\");\n\nconst tabIndexReflectAllowedHTMLElements = new Set([\n  \"a\", \"area\", \"button\", \"frame\", \"iframe\",\n  \"input\", \"object\", \"select\", \"textarea\"\n]);\n\nclass HTMLOrSVGElementImpl {\n  _initHTMLOrSVGElement() {\n    this._tabIndex = 0;\n    this._dataset = DOMStringMap.createImpl(this._globalObject, [], { element: this });\n  }\n\n  get dataset() {\n    return this._dataset;\n  }\n\n  // TODO this should be [Reflect]able if we added default value support to webidl2js's [Reflect]\n  get tabIndex() {\n    if (!this.hasAttributeNS(null, \"tabindex\")) {\n      if ((this.namespaceURI === HTML_NS && (tabIndexReflectAllowedHTMLElements.has(this._localName) ||\n                                             (this._localName === \"summary\" && isSummaryForParentDetails(this)))) ||\n          (this.namespaceURI === SVG_NS && this._localName === \"a\")) {\n        return 0;\n      }\n      return -1;\n    }\n    return conversions.long(this.getAttributeNS(null, \"tabindex\"));\n  }\n\n  set tabIndex(value) {\n    this.setAttributeNS(null, \"tabindex\", String(value));\n  }\n\n  focus() {\n    if (!focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n    const ownerDocument = this._ownerDocument;\n    const previous = ownerDocument._lastFocusedElement;\n\n    if (previous === this) {\n      return;\n    }\n\n    ownerDocument._lastFocusedElement = null;\n    if (previous) {\n      focusing.fireFocusEventWithTargetAdjustment(\"blur\", previous, this);\n      focusing.fireFocusEventWithTargetAdjustment(\"focusout\", previous, this, { bubbles: true });\n    } else {\n      const frameElement = ownerDocument._defaultView._frameElement;\n      if (frameElement) {\n        const frameLastFocusedElement = frameElement.ownerDocument._lastFocusedElement;\n        frameElement.ownerDocument._lastFocusedElement = null;\n        focusing.fireFocusEventWithTargetAdjustment(\"blur\", frameLastFocusedElement, null);\n        focusing.fireFocusEventWithTargetAdjustment(\"focusout\", frameLastFocusedElement, null, { bubbles: true });\n        frameElement.ownerDocument._lastFocusedElement = frameElement;\n      }\n    }\n\n    ownerDocument._lastFocusedElement = this;\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this, previous);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this, previous, { bubbles: true });\n  }\n\n  blur() {\n    if (this._ownerDocument._lastFocusedElement !== this || !focusing.isFocusableAreaElement(this)) {\n      return;\n    }\n\n    this._ownerDocument._lastFocusedElement = null;\n    focusing.fireFocusEventWithTargetAdjustment(\"blur\", this, this._ownerDocument);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusout\", this, this._ownerDocument, { bubbles: true });\n    focusing.fireFocusEventWithTargetAdjustment(\"focus\", this._ownerDocument, this);\n    focusing.fireFocusEventWithTargetAdjustment(\"focusin\", this._ownerDocument, this, { bubbles: true });\n  }\n}\n\nexports.implementation = HTMLOrSVGElementImpl;\n"]},"metadata":{},"sourceType":"script"}