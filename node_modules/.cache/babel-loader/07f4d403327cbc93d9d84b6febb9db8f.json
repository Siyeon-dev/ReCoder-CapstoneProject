{"ast":null,"code":"\"use strict\";\n\nconst {\n  removeLeadingAndTrailingHTTPWhitespace,\n  removeTrailingHTTPWhitespace,\n  isHTTPWhitespaceChar,\n  solelyContainsHTTPTokenCodePoints,\n  soleyContainsHTTPQuotedStringTokenCodePoints,\n  asciiLowercase\n} = require(\"./utils.js\");\n\nmodule.exports = input => {\n  input = removeLeadingAndTrailingHTTPWhitespace(input);\n  let position = 0;\n  let type = \"\";\n\n  while (position < input.length && input[position] !== \"/\") {\n    type += input[position];\n    ++position;\n  }\n\n  if (type.length === 0 || !solelyContainsHTTPTokenCodePoints(type)) {\n    return null;\n  }\n\n  if (position >= input.length) {\n    return null;\n  } // Skips past \"/\"\n\n\n  ++position;\n  let subtype = \"\";\n\n  while (position < input.length && input[position] !== \";\") {\n    subtype += input[position];\n    ++position;\n  }\n\n  subtype = removeTrailingHTTPWhitespace(subtype);\n\n  if (subtype.length === 0 || !solelyContainsHTTPTokenCodePoints(subtype)) {\n    return null;\n  }\n\n  const mimeType = {\n    type: asciiLowercase(type),\n    subtype: asciiLowercase(subtype),\n    parameters: new Map()\n  };\n\n  while (position < input.length) {\n    // Skip past \";\"\n    ++position;\n\n    while (isHTTPWhitespaceChar(input[position])) {\n      ++position;\n    }\n\n    let parameterName = \"\";\n\n    while (position < input.length && input[position] !== \";\" && input[position] !== \"=\") {\n      parameterName += input[position];\n      ++position;\n    }\n\n    parameterName = asciiLowercase(parameterName);\n\n    if (position < input.length) {\n      if (input[position] === \";\") {\n        continue;\n      } // Skip past \"=\"\n\n\n      ++position;\n    }\n\n    let parameterValue = \"\";\n\n    if (input[position] === \"\\\"\") {\n      ++position;\n\n      while (true) {\n        while (position < input.length && input[position] !== \"\\\"\" && input[position] !== \"\\\\\") {\n          parameterValue += input[position];\n          ++position;\n        }\n\n        if (position < input.length && input[position] === \"\\\\\") {\n          ++position;\n\n          if (position < input.length) {\n            parameterValue += input[position];\n            ++position;\n            continue;\n          } else {\n            parameterValue += \"\\\\\";\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n\n      while (position < input.length && input[position] !== \";\") {\n        ++position;\n      }\n    } else {\n      while (position < input.length && input[position] !== \";\") {\n        parameterValue += input[position];\n        ++position;\n      }\n\n      parameterValue = removeTrailingHTTPWhitespace(parameterValue);\n\n      if (parameterValue === \"\") {\n        continue;\n      }\n    }\n\n    if (parameterName.length > 0 && solelyContainsHTTPTokenCodePoints(parameterName) && soleyContainsHTTPQuotedStringTokenCodePoints(parameterValue) && !mimeType.parameters.has(parameterName)) {\n      mimeType.parameters.set(parameterName, parameterValue);\n    }\n  }\n\n  return mimeType;\n};","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/whatwg-mimetype/lib/parser.js"],"names":["removeLeadingAndTrailingHTTPWhitespace","removeTrailingHTTPWhitespace","isHTTPWhitespaceChar","solelyContainsHTTPTokenCodePoints","soleyContainsHTTPQuotedStringTokenCodePoints","asciiLowercase","require","module","exports","input","position","type","length","subtype","mimeType","parameters","Map","parameterName","parameterValue","has","set"],"mappings":"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","sourcesContent":["\"use strict\";\nconst {\n  removeLeadingAndTrailingHTTPWhitespace,\n  removeTrailingHTTPWhitespace,\n  isHTTPWhitespaceChar,\n  solelyContainsHTTPTokenCodePoints,\n  soleyContainsHTTPQuotedStringTokenCodePoints,\n  asciiLowercase\n} = require(\"./utils.js\");\n\nmodule.exports = input => {\n  input = removeLeadingAndTrailingHTTPWhitespace(input);\n\n  let position = 0;\n  let type = \"\";\n  while (position < input.length && input[position] !== \"/\") {\n    type += input[position];\n    ++position;\n  }\n\n  if (type.length === 0 || !solelyContainsHTTPTokenCodePoints(type)) {\n    return null;\n  }\n\n  if (position >= input.length) {\n    return null;\n  }\n\n  // Skips past \"/\"\n  ++position;\n\n  let subtype = \"\";\n  while (position < input.length && input[position] !== \";\") {\n    subtype += input[position];\n    ++position;\n  }\n\n  subtype = removeTrailingHTTPWhitespace(subtype);\n\n  if (subtype.length === 0 || !solelyContainsHTTPTokenCodePoints(subtype)) {\n    return null;\n  }\n\n  const mimeType = {\n    type: asciiLowercase(type),\n    subtype: asciiLowercase(subtype),\n    parameters: new Map()\n  };\n\n  while (position < input.length) {\n    // Skip past \";\"\n    ++position;\n\n    while (isHTTPWhitespaceChar(input[position])) {\n      ++position;\n    }\n\n    let parameterName = \"\";\n    while (position < input.length && input[position] !== \";\" && input[position] !== \"=\") {\n      parameterName += input[position];\n      ++position;\n    }\n    parameterName = asciiLowercase(parameterName);\n\n    if (position < input.length) {\n      if (input[position] === \";\") {\n        continue;\n      }\n\n      // Skip past \"=\"\n      ++position;\n    }\n\n    let parameterValue = \"\";\n    if (input[position] === \"\\\"\") {\n      ++position;\n\n      while (true) {\n        while (position < input.length && input[position] !== \"\\\"\" && input[position] !== \"\\\\\") {\n          parameterValue += input[position];\n          ++position;\n        }\n\n        if (position < input.length && input[position] === \"\\\\\") {\n          ++position;\n          if (position < input.length) {\n            parameterValue += input[position];\n            ++position;\n            continue;\n          } else {\n            parameterValue += \"\\\\\";\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n\n      while (position < input.length && input[position] !== \";\") {\n        ++position;\n      }\n    } else {\n      while (position < input.length && input[position] !== \";\") {\n        parameterValue += input[position];\n        ++position;\n      }\n\n      parameterValue = removeTrailingHTTPWhitespace(parameterValue);\n\n      if (parameterValue === \"\") {\n        continue;\n      }\n    }\n\n    if (parameterName.length > 0 &&\n        solelyContainsHTTPTokenCodePoints(parameterName) &&\n        soleyContainsHTTPQuotedStringTokenCodePoints(parameterValue) &&\n        !mimeType.parameters.has(parameterName)) {\n      mimeType.parameters.set(parameterName, parameterValue);\n    }\n  }\n\n  return mimeType;\n};\n"]},"metadata":{},"sourceType":"script"}