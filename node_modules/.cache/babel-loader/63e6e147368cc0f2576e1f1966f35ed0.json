{"ast":null,"code":"//.CommonJS\nvar CSSOM = {}; ///CommonJS\n\n/**\n * @param {string} token\n */\n\nCSSOM.parse = function parse(token) {\n  var i = 0;\n  /**\n  \t\"before-selector\" or\n  \t\"selector\" or\n  \t\"atRule\" or\n  \t\"atBlock\" or\n  \t\"conditionBlock\" or\n  \t\"before-name\" or\n  \t\"name\" or\n  \t\"before-value\" or\n  \t\"value\"\n  */\n\n  var state = \"before-selector\";\n  var index;\n  var buffer = \"\";\n  var valueParenthesisDepth = 0;\n  var SIGNIFICANT_WHITESPACE = {\n    \"selector\": true,\n    \"value\": true,\n    \"value-parenthesis\": true,\n    \"atRule\": true,\n    \"importRule-begin\": true,\n    \"importRule\": true,\n    \"atBlock\": true,\n    \"conditionBlock\": true,\n    'documentRule-begin': true\n  };\n  var styleSheet = new CSSOM.CSSStyleSheet(); // @type CSSStyleSheet|CSSMediaRule|CSSSupportsRule|CSSFontFaceRule|CSSKeyframesRule|CSSDocumentRule\n\n  var currentScope = styleSheet; // @type CSSMediaRule|CSSSupportsRule|CSSKeyframesRule|CSSDocumentRule\n\n  var parentRule;\n  var ancestorRules = [];\n  var hasAncestors = false;\n  var prevScope;\n  var name,\n      priority = \"\",\n      styleRule,\n      mediaRule,\n      supportsRule,\n      importRule,\n      fontFaceRule,\n      keyframesRule,\n      documentRule,\n      hostRule;\n  var atKeyframesRegExp = /@(-(?:\\w+-)+)?keyframes/g;\n\n  var parseError = function (message) {\n    var lines = token.substring(0, i).split('\\n');\n    var lineCount = lines.length;\n    var charCount = lines.pop().length + 1;\n    var error = new Error(message + ' (line ' + lineCount + ', char ' + charCount + ')');\n    error.line = lineCount;\n    /* jshint sub : true */\n\n    error['char'] = charCount;\n    error.styleSheet = styleSheet;\n    throw error;\n  };\n\n  for (var character; character = token.charAt(i); i++) {\n    switch (character) {\n      case \" \":\n      case \"\\t\":\n      case \"\\r\":\n      case \"\\n\":\n      case \"\\f\":\n        if (SIGNIFICANT_WHITESPACE[state]) {\n          buffer += character;\n        }\n\n        break;\n      // String\n\n      case '\"':\n        index = i + 1;\n\n        do {\n          index = token.indexOf('\"', index) + 1;\n\n          if (!index) {\n            parseError('Unmatched \"');\n          }\n        } while (token[index - 2] === '\\\\');\n\n        buffer += token.slice(i, index);\n        i = index - 1;\n\n        switch (state) {\n          case 'before-value':\n            state = 'value';\n            break;\n\n          case 'importRule-begin':\n            state = 'importRule';\n            break;\n        }\n\n        break;\n\n      case \"'\":\n        index = i + 1;\n\n        do {\n          index = token.indexOf(\"'\", index) + 1;\n\n          if (!index) {\n            parseError(\"Unmatched '\");\n          }\n        } while (token[index - 2] === '\\\\');\n\n        buffer += token.slice(i, index);\n        i = index - 1;\n\n        switch (state) {\n          case 'before-value':\n            state = 'value';\n            break;\n\n          case 'importRule-begin':\n            state = 'importRule';\n            break;\n        }\n\n        break;\n      // Comment\n\n      case \"/\":\n        if (token.charAt(i + 1) === \"*\") {\n          i += 2;\n          index = token.indexOf(\"*/\", i);\n\n          if (index === -1) {\n            parseError(\"Missing */\");\n          } else {\n            i = index + 1;\n          }\n        } else {\n          buffer += character;\n        }\n\n        if (state === \"importRule-begin\") {\n          buffer += \" \";\n          state = \"importRule\";\n        }\n\n        break;\n      // At-rule\n\n      case \"@\":\n        if (token.indexOf(\"@-moz-document\", i) === i) {\n          state = \"documentRule-begin\";\n          documentRule = new CSSOM.CSSDocumentRule();\n          documentRule.__starts = i;\n          i += \"-moz-document\".length;\n          buffer = \"\";\n          break;\n        } else if (token.indexOf(\"@media\", i) === i) {\n          state = \"atBlock\";\n          mediaRule = new CSSOM.CSSMediaRule();\n          mediaRule.__starts = i;\n          i += \"media\".length;\n          buffer = \"\";\n          break;\n        } else if (token.indexOf(\"@supports\", i) === i) {\n          state = \"conditionBlock\";\n          supportsRule = new CSSOM.CSSSupportsRule();\n          supportsRule.__starts = i;\n          i += \"supports\".length;\n          buffer = \"\";\n          break;\n        } else if (token.indexOf(\"@host\", i) === i) {\n          state = \"hostRule-begin\";\n          i += \"host\".length;\n          hostRule = new CSSOM.CSSHostRule();\n          hostRule.__starts = i;\n          buffer = \"\";\n          break;\n        } else if (token.indexOf(\"@import\", i) === i) {\n          state = \"importRule-begin\";\n          i += \"import\".length;\n          buffer += \"@import\";\n          break;\n        } else if (token.indexOf(\"@font-face\", i) === i) {\n          state = \"fontFaceRule-begin\";\n          i += \"font-face\".length;\n          fontFaceRule = new CSSOM.CSSFontFaceRule();\n          fontFaceRule.__starts = i;\n          buffer = \"\";\n          break;\n        } else {\n          atKeyframesRegExp.lastIndex = i;\n          var matchKeyframes = atKeyframesRegExp.exec(token);\n\n          if (matchKeyframes && matchKeyframes.index === i) {\n            state = \"keyframesRule-begin\";\n            keyframesRule = new CSSOM.CSSKeyframesRule();\n            keyframesRule.__starts = i;\n            keyframesRule._vendorPrefix = matchKeyframes[1]; // Will come out as undefined if no prefix was found\n\n            i += matchKeyframes[0].length - 1;\n            buffer = \"\";\n            break;\n          } else if (state === \"selector\") {\n            state = \"atRule\";\n          }\n        }\n\n        buffer += character;\n        break;\n\n      case \"{\":\n        if (state === \"selector\" || state === \"atRule\") {\n          styleRule.selectorText = buffer.trim();\n          styleRule.style.__starts = i;\n          buffer = \"\";\n          state = \"before-name\";\n        } else if (state === \"atBlock\") {\n          mediaRule.media.mediaText = buffer.trim();\n\n          if (parentRule) {\n            ancestorRules.push(parentRule);\n          }\n\n          currentScope = parentRule = mediaRule;\n          mediaRule.parentStyleSheet = styleSheet;\n          buffer = \"\";\n          state = \"before-selector\";\n        } else if (state === \"conditionBlock\") {\n          supportsRule.conditionText = buffer.trim();\n\n          if (parentRule) {\n            ancestorRules.push(parentRule);\n          }\n\n          currentScope = parentRule = supportsRule;\n          supportsRule.parentStyleSheet = styleSheet;\n          buffer = \"\";\n          state = \"before-selector\";\n        } else if (state === \"hostRule-begin\") {\n          if (parentRule) {\n            ancestorRules.push(parentRule);\n          }\n\n          currentScope = parentRule = hostRule;\n          hostRule.parentStyleSheet = styleSheet;\n          buffer = \"\";\n          state = \"before-selector\";\n        } else if (state === \"fontFaceRule-begin\") {\n          if (parentRule) {\n            fontFaceRule.parentRule = parentRule;\n          }\n\n          fontFaceRule.parentStyleSheet = styleSheet;\n          styleRule = fontFaceRule;\n          buffer = \"\";\n          state = \"before-name\";\n        } else if (state === \"keyframesRule-begin\") {\n          keyframesRule.name = buffer.trim();\n\n          if (parentRule) {\n            ancestorRules.push(parentRule);\n            keyframesRule.parentRule = parentRule;\n          }\n\n          keyframesRule.parentStyleSheet = styleSheet;\n          currentScope = parentRule = keyframesRule;\n          buffer = \"\";\n          state = \"keyframeRule-begin\";\n        } else if (state === \"keyframeRule-begin\") {\n          styleRule = new CSSOM.CSSKeyframeRule();\n          styleRule.keyText = buffer.trim();\n          styleRule.__starts = i;\n          buffer = \"\";\n          state = \"before-name\";\n        } else if (state === \"documentRule-begin\") {\n          // FIXME: what if this '{' is in the url text of the match function?\n          documentRule.matcher.matcherText = buffer.trim();\n\n          if (parentRule) {\n            ancestorRules.push(parentRule);\n            documentRule.parentRule = parentRule;\n          }\n\n          currentScope = parentRule = documentRule;\n          documentRule.parentStyleSheet = styleSheet;\n          buffer = \"\";\n          state = \"before-selector\";\n        }\n\n        break;\n\n      case \":\":\n        if (state === \"name\") {\n          name = buffer.trim();\n          buffer = \"\";\n          state = \"before-value\";\n        } else {\n          buffer += character;\n        }\n\n        break;\n\n      case \"(\":\n        if (state === 'value') {\n          // ie css expression mode\n          if (buffer.trim() === 'expression') {\n            var info = new CSSOM.CSSValueExpression(token, i).parse();\n\n            if (info.error) {\n              parseError(info.error);\n            } else {\n              buffer += info.expression;\n              i = info.idx;\n            }\n          } else {\n            state = 'value-parenthesis'; //always ensure this is reset to 1 on transition\n            //from value to value-parenthesis\n\n            valueParenthesisDepth = 1;\n            buffer += character;\n          }\n        } else if (state === 'value-parenthesis') {\n          valueParenthesisDepth++;\n          buffer += character;\n        } else {\n          buffer += character;\n        }\n\n        break;\n\n      case \")\":\n        if (state === 'value-parenthesis') {\n          valueParenthesisDepth--;\n          if (valueParenthesisDepth === 0) state = 'value';\n        }\n\n        buffer += character;\n        break;\n\n      case \"!\":\n        if (state === \"value\" && token.indexOf(\"!important\", i) === i) {\n          priority = \"important\";\n          i += \"important\".length;\n        } else {\n          buffer += character;\n        }\n\n        break;\n\n      case \";\":\n        switch (state) {\n          case \"value\":\n            styleRule.style.setProperty(name, buffer.trim(), priority);\n            priority = \"\";\n            buffer = \"\";\n            state = \"before-name\";\n            break;\n\n          case \"atRule\":\n            buffer = \"\";\n            state = \"before-selector\";\n            break;\n\n          case \"importRule\":\n            importRule = new CSSOM.CSSImportRule();\n            importRule.parentStyleSheet = importRule.styleSheet.parentStyleSheet = styleSheet;\n            importRule.cssText = buffer + character;\n            styleSheet.cssRules.push(importRule);\n            buffer = \"\";\n            state = \"before-selector\";\n            break;\n\n          default:\n            buffer += character;\n            break;\n        }\n\n        break;\n\n      case \"}\":\n        switch (state) {\n          case \"value\":\n            styleRule.style.setProperty(name, buffer.trim(), priority);\n            priority = \"\";\n\n          /* falls through */\n\n          case \"before-name\":\n          case \"name\":\n            styleRule.__ends = i + 1;\n\n            if (parentRule) {\n              styleRule.parentRule = parentRule;\n            }\n\n            styleRule.parentStyleSheet = styleSheet;\n            currentScope.cssRules.push(styleRule);\n            buffer = \"\";\n\n            if (currentScope.constructor === CSSOM.CSSKeyframesRule) {\n              state = \"keyframeRule-begin\";\n            } else {\n              state = \"before-selector\";\n            }\n\n            break;\n\n          case \"keyframeRule-begin\":\n          case \"before-selector\":\n          case \"selector\":\n            // End of media/supports/document rule.\n            if (!parentRule) {\n              parseError(\"Unexpected }\");\n            } // Handle rules nested in @media or @supports\n\n\n            hasAncestors = ancestorRules.length > 0;\n\n            while (ancestorRules.length > 0) {\n              parentRule = ancestorRules.pop();\n\n              if (parentRule.constructor.name === \"CSSMediaRule\" || parentRule.constructor.name === \"CSSSupportsRule\") {\n                prevScope = currentScope;\n                currentScope = parentRule;\n                currentScope.cssRules.push(prevScope);\n                break;\n              }\n\n              if (ancestorRules.length === 0) {\n                hasAncestors = false;\n              }\n            }\n\n            if (!hasAncestors) {\n              currentScope.__ends = i + 1;\n              styleSheet.cssRules.push(currentScope);\n              currentScope = styleSheet;\n              parentRule = null;\n            }\n\n            buffer = \"\";\n            state = \"before-selector\";\n            break;\n        }\n\n        break;\n\n      default:\n        switch (state) {\n          case \"before-selector\":\n            state = \"selector\";\n            styleRule = new CSSOM.CSSStyleRule();\n            styleRule.__starts = i;\n            break;\n\n          case \"before-name\":\n            state = \"name\";\n            break;\n\n          case \"before-value\":\n            state = \"value\";\n            break;\n\n          case \"importRule-begin\":\n            state = \"importRule\";\n            break;\n        }\n\n        buffer += character;\n        break;\n    }\n  }\n\n  return styleSheet;\n}; //.CommonJS\n\n\nexports.parse = CSSOM.parse; // The following modules cannot be included sooner due to the mutual dependency with parse.js\n\nCSSOM.CSSStyleSheet = require(\"./CSSStyleSheet\").CSSStyleSheet;\nCSSOM.CSSStyleRule = require(\"./CSSStyleRule\").CSSStyleRule;\nCSSOM.CSSImportRule = require(\"./CSSImportRule\").CSSImportRule;\nCSSOM.CSSMediaRule = require(\"./CSSMediaRule\").CSSMediaRule;\nCSSOM.CSSSupportsRule = require(\"./CSSSupportsRule\").CSSSupportsRule;\nCSSOM.CSSFontFaceRule = require(\"./CSSFontFaceRule\").CSSFontFaceRule;\nCSSOM.CSSHostRule = require(\"./CSSHostRule\").CSSHostRule;\nCSSOM.CSSStyleDeclaration = require('./CSSStyleDeclaration').CSSStyleDeclaration;\nCSSOM.CSSKeyframeRule = require('./CSSKeyframeRule').CSSKeyframeRule;\nCSSOM.CSSKeyframesRule = require('./CSSKeyframesRule').CSSKeyframesRule;\nCSSOM.CSSValueExpression = require('./CSSValueExpression').CSSValueExpression;\nCSSOM.CSSDocumentRule = require('./CSSDocumentRule').CSSDocumentRule; ///CommonJS","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/cssom/lib/parse.js"],"names":["CSSOM","parse","token","i","state","index","buffer","valueParenthesisDepth","SIGNIFICANT_WHITESPACE","styleSheet","CSSStyleSheet","currentScope","parentRule","ancestorRules","hasAncestors","prevScope","name","priority","styleRule","mediaRule","supportsRule","importRule","fontFaceRule","keyframesRule","documentRule","hostRule","atKeyframesRegExp","parseError","message","lines","substring","split","lineCount","length","charCount","pop","error","Error","line","character","charAt","indexOf","slice","CSSDocumentRule","__starts","CSSMediaRule","CSSSupportsRule","CSSHostRule","CSSFontFaceRule","lastIndex","matchKeyframes","exec","CSSKeyframesRule","_vendorPrefix","selectorText","trim","style","media","mediaText","push","parentStyleSheet","conditionText","CSSKeyframeRule","keyText","matcher","matcherText","info","CSSValueExpression","expression","idx","setProperty","CSSImportRule","cssText","cssRules","__ends","constructor","CSSStyleRule","exports","require","CSSStyleDeclaration"],"mappings":"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","sourcesContent":["//.CommonJS\nvar CSSOM = {};\n///CommonJS\n\n\n/**\n * @param {string} token\n */\nCSSOM.parse = function parse(token) {\n\n\tvar i = 0;\n\n\t/**\n\t\t\"before-selector\" or\n\t\t\"selector\" or\n\t\t\"atRule\" or\n\t\t\"atBlock\" or\n\t\t\"conditionBlock\" or\n\t\t\"before-name\" or\n\t\t\"name\" or\n\t\t\"before-value\" or\n\t\t\"value\"\n\t*/\n\tvar state = \"before-selector\";\n\n\tvar index;\n\tvar buffer = \"\";\n\tvar valueParenthesisDepth = 0;\n\n\tvar SIGNIFICANT_WHITESPACE = {\n\t\t\"selector\": true,\n\t\t\"value\": true,\n\t\t\"value-parenthesis\": true,\n\t\t\"atRule\": true,\n\t\t\"importRule-begin\": true,\n\t\t\"importRule\": true,\n\t\t\"atBlock\": true,\n\t\t\"conditionBlock\": true,\n\t\t'documentRule-begin': true\n\t};\n\n\tvar styleSheet = new CSSOM.CSSStyleSheet();\n\n\t// @type CSSStyleSheet|CSSMediaRule|CSSSupportsRule|CSSFontFaceRule|CSSKeyframesRule|CSSDocumentRule\n\tvar currentScope = styleSheet;\n\n\t// @type CSSMediaRule|CSSSupportsRule|CSSKeyframesRule|CSSDocumentRule\n\tvar parentRule;\n\n\tvar ancestorRules = [];\n\tvar hasAncestors = false;\n\tvar prevScope;\n\n\tvar name, priority=\"\", styleRule, mediaRule, supportsRule, importRule, fontFaceRule, keyframesRule, documentRule, hostRule;\n\n\tvar atKeyframesRegExp = /@(-(?:\\w+-)+)?keyframes/g;\n\n\tvar parseError = function(message) {\n\t\tvar lines = token.substring(0, i).split('\\n');\n\t\tvar lineCount = lines.length;\n\t\tvar charCount = lines.pop().length + 1;\n\t\tvar error = new Error(message + ' (line ' + lineCount + ', char ' + charCount + ')');\n\t\terror.line = lineCount;\n\t\t/* jshint sub : true */\n\t\terror['char'] = charCount;\n\t\terror.styleSheet = styleSheet;\n\t\tthrow error;\n\t};\n\n\tfor (var character; (character = token.charAt(i)); i++) {\n\n\t\tswitch (character) {\n\n\t\tcase \" \":\n\t\tcase \"\\t\":\n\t\tcase \"\\r\":\n\t\tcase \"\\n\":\n\t\tcase \"\\f\":\n\t\t\tif (SIGNIFICANT_WHITESPACE[state]) {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// String\n\t\tcase '\"':\n\t\t\tindex = i + 1;\n\t\t\tdo {\n\t\t\t\tindex = token.indexOf('\"', index) + 1;\n\t\t\t\tif (!index) {\n\t\t\t\t\tparseError('Unmatched \"');\n\t\t\t\t}\n\t\t\t} while (token[index - 2] === '\\\\');\n\t\t\tbuffer += token.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tswitch (state) {\n\t\t\t\tcase 'before-value':\n\t\t\t\t\tstate = 'value';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importRule-begin':\n\t\t\t\t\tstate = 'importRule';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"'\":\n\t\t\tindex = i + 1;\n\t\t\tdo {\n\t\t\t\tindex = token.indexOf(\"'\", index) + 1;\n\t\t\t\tif (!index) {\n\t\t\t\t\tparseError(\"Unmatched '\");\n\t\t\t\t}\n\t\t\t} while (token[index - 2] === '\\\\');\n\t\t\tbuffer += token.slice(i, index);\n\t\t\ti = index - 1;\n\t\t\tswitch (state) {\n\t\t\t\tcase 'before-value':\n\t\t\t\t\tstate = 'value';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importRule-begin':\n\t\t\t\t\tstate = 'importRule';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// Comment\n\t\tcase \"/\":\n\t\t\tif (token.charAt(i + 1) === \"*\") {\n\t\t\t\ti += 2;\n\t\t\t\tindex = token.indexOf(\"*/\", i);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tparseError(\"Missing */\");\n\t\t\t\t} else {\n\t\t\t\t\ti = index + 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tif (state === \"importRule-begin\") {\n\t\t\t\tbuffer += \" \";\n\t\t\t\tstate = \"importRule\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\t// At-rule\n\t\tcase \"@\":\n\t\t\tif (token.indexOf(\"@-moz-document\", i) === i) {\n\t\t\t\tstate = \"documentRule-begin\";\n\t\t\t\tdocumentRule = new CSSOM.CSSDocumentRule();\n\t\t\t\tdocumentRule.__starts = i;\n\t\t\t\ti += \"-moz-document\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@media\", i) === i) {\n\t\t\t\tstate = \"atBlock\";\n\t\t\t\tmediaRule = new CSSOM.CSSMediaRule();\n\t\t\t\tmediaRule.__starts = i;\n\t\t\t\ti += \"media\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@supports\", i) === i) {\n\t\t\t\tstate = \"conditionBlock\";\n\t\t\t\tsupportsRule = new CSSOM.CSSSupportsRule();\n\t\t\t\tsupportsRule.__starts = i;\n\t\t\t\ti += \"supports\".length;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@host\", i) === i) {\n\t\t\t\tstate = \"hostRule-begin\";\n\t\t\t\ti += \"host\".length;\n\t\t\t\thostRule = new CSSOM.CSSHostRule();\n\t\t\t\thostRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@import\", i) === i) {\n\t\t\t\tstate = \"importRule-begin\";\n\t\t\t\ti += \"import\".length;\n\t\t\t\tbuffer += \"@import\";\n\t\t\t\tbreak;\n\t\t\t} else if (token.indexOf(\"@font-face\", i) === i) {\n\t\t\t\tstate = \"fontFaceRule-begin\";\n\t\t\t\ti += \"font-face\".length;\n\t\t\t\tfontFaceRule = new CSSOM.CSSFontFaceRule();\n\t\t\t\tfontFaceRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tatKeyframesRegExp.lastIndex = i;\n\t\t\t\tvar matchKeyframes = atKeyframesRegExp.exec(token);\n\t\t\t\tif (matchKeyframes && matchKeyframes.index === i) {\n\t\t\t\t\tstate = \"keyframesRule-begin\";\n\t\t\t\t\tkeyframesRule = new CSSOM.CSSKeyframesRule();\n\t\t\t\t\tkeyframesRule.__starts = i;\n\t\t\t\t\tkeyframesRule._vendorPrefix = matchKeyframes[1]; // Will come out as undefined if no prefix was found\n\t\t\t\t\ti += matchKeyframes[0].length - 1;\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (state === \"selector\") {\n\t\t\t\t\tstate = \"atRule\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\tcase \"{\":\n\t\t\tif (state === \"selector\" || state === \"atRule\") {\n\t\t\t\tstyleRule.selectorText = buffer.trim();\n\t\t\t\tstyleRule.style.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"atBlock\") {\n\t\t\t\tmediaRule.media.mediaText = buffer.trim();\n\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = mediaRule;\n\t\t\t\tmediaRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"conditionBlock\") {\n\t\t\t\tsupportsRule.conditionText = buffer.trim();\n\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = supportsRule;\n\t\t\t\tsupportsRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"hostRule-begin\") {\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t}\n\n\t\t\t\tcurrentScope = parentRule = hostRule;\n\t\t\t\thostRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t} else if (state === \"fontFaceRule-begin\") {\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tfontFaceRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tfontFaceRule.parentStyleSheet = styleSheet;\n\t\t\t\tstyleRule = fontFaceRule;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"keyframesRule-begin\") {\n\t\t\t\tkeyframesRule.name = buffer.trim();\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t\tkeyframesRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tkeyframesRule.parentStyleSheet = styleSheet;\n\t\t\t\tcurrentScope = parentRule = keyframesRule;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"keyframeRule-begin\";\n\t\t\t} else if (state === \"keyframeRule-begin\") {\n\t\t\t\tstyleRule = new CSSOM.CSSKeyframeRule();\n\t\t\t\tstyleRule.keyText = buffer.trim();\n\t\t\t\tstyleRule.__starts = i;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-name\";\n\t\t\t} else if (state === \"documentRule-begin\") {\n\t\t\t\t// FIXME: what if this '{' is in the url text of the match function?\n\t\t\t\tdocumentRule.matcher.matcherText = buffer.trim();\n\t\t\t\tif (parentRule) {\n\t\t\t\t\tancestorRules.push(parentRule);\n\t\t\t\t\tdocumentRule.parentRule = parentRule;\n\t\t\t\t}\n\t\t\t\tcurrentScope = parentRule = documentRule;\n\t\t\t\tdocumentRule.parentStyleSheet = styleSheet;\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-selector\";\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \":\":\n\t\t\tif (state === \"name\") {\n\t\t\t\tname = buffer.trim();\n\t\t\t\tbuffer = \"\";\n\t\t\t\tstate = \"before-value\";\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"(\":\n\t\t\tif (state === 'value') {\n\t\t\t\t// ie css expression mode\n\t\t\t\tif (buffer.trim() === 'expression') {\n\t\t\t\t\tvar info = (new CSSOM.CSSValueExpression(token, i)).parse();\n\n\t\t\t\t\tif (info.error) {\n\t\t\t\t\t\tparseError(info.error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbuffer += info.expression;\n\t\t\t\t\t\ti = info.idx;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstate = 'value-parenthesis';\n\t\t\t\t\t//always ensure this is reset to 1 on transition\n\t\t\t\t\t//from value to value-parenthesis\n\t\t\t\t\tvalueParenthesisDepth = 1;\n\t\t\t\t\tbuffer += character;\n\t\t\t\t}\n\t\t\t} else if (state === 'value-parenthesis') {\n\t\t\t\tvalueParenthesisDepth++;\n\t\t\t\tbuffer += character;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \")\":\n\t\t\tif (state === 'value-parenthesis') {\n\t\t\t\tvalueParenthesisDepth--;\n\t\t\t\tif (valueParenthesisDepth === 0) state = 'value';\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\n\t\tcase \"!\":\n\t\t\tif (state === \"value\" && token.indexOf(\"!important\", i) === i) {\n\t\t\t\tpriority = \"important\";\n\t\t\t\ti += \"important\".length;\n\t\t\t} else {\n\t\t\t\tbuffer += character;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \";\":\n\t\t\tswitch (state) {\n\t\t\t\tcase \"value\":\n\t\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\t\tpriority = \"\";\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-name\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"atRule\":\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"importRule\":\n\t\t\t\t\timportRule = new CSSOM.CSSImportRule();\n\t\t\t\t\timportRule.parentStyleSheet = importRule.styleSheet.parentStyleSheet = styleSheet;\n\t\t\t\t\timportRule.cssText = buffer + character;\n\t\t\t\t\tstyleSheet.cssRules.push(importRule);\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbuffer += character;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"}\":\n\t\t\tswitch (state) {\n\t\t\t\tcase \"value\":\n\t\t\t\t\tstyleRule.style.setProperty(name, buffer.trim(), priority);\n\t\t\t\t\tpriority = \"\";\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase \"before-name\":\n\t\t\t\tcase \"name\":\n\t\t\t\t\tstyleRule.__ends = i + 1;\n\t\t\t\t\tif (parentRule) {\n\t\t\t\t\t\tstyleRule.parentRule = parentRule;\n\t\t\t\t\t}\n\t\t\t\t\tstyleRule.parentStyleSheet = styleSheet;\n\t\t\t\t\tcurrentScope.cssRules.push(styleRule);\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tif (currentScope.constructor === CSSOM.CSSKeyframesRule) {\n\t\t\t\t\t\tstate = \"keyframeRule-begin\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"keyframeRule-begin\":\n\t\t\t\tcase \"before-selector\":\n\t\t\t\tcase \"selector\":\n\t\t\t\t\t// End of media/supports/document rule.\n\t\t\t\t\tif (!parentRule) {\n\t\t\t\t\t\tparseError(\"Unexpected }\");\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle rules nested in @media or @supports\n\t\t\t\t\thasAncestors = ancestorRules.length > 0;\n\n\t\t\t\t\twhile (ancestorRules.length > 0) {\n\t\t\t\t\t\tparentRule = ancestorRules.pop();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tparentRule.constructor.name === \"CSSMediaRule\"\n\t\t\t\t\t\t\t|| parentRule.constructor.name === \"CSSSupportsRule\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tprevScope = currentScope;\n\t\t\t\t\t\t\tcurrentScope = parentRule;\n\t\t\t\t\t\t\tcurrentScope.cssRules.push(prevScope);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (ancestorRules.length === 0) {\n\t\t\t\t\t\t\thasAncestors = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (!hasAncestors) {\n\t\t\t\t\t\tcurrentScope.__ends = i + 1;\n\t\t\t\t\t\tstyleSheet.cssRules.push(currentScope);\n\t\t\t\t\t\tcurrentScope = styleSheet;\n\t\t\t\t\t\tparentRule = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tbuffer = \"\";\n\t\t\t\t\tstate = \"before-selector\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tswitch (state) {\n\t\t\t\tcase \"before-selector\":\n\t\t\t\t\tstate = \"selector\";\n\t\t\t\t\tstyleRule = new CSSOM.CSSStyleRule();\n\t\t\t\t\tstyleRule.__starts = i;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before-name\":\n\t\t\t\t\tstate = \"name\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before-value\":\n\t\t\t\t\tstate = \"value\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"importRule-begin\":\n\t\t\t\t\tstate = \"importRule\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbuffer += character;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn styleSheet;\n};\n\n\n//.CommonJS\nexports.parse = CSSOM.parse;\n// The following modules cannot be included sooner due to the mutual dependency with parse.js\nCSSOM.CSSStyleSheet = require(\"./CSSStyleSheet\").CSSStyleSheet;\nCSSOM.CSSStyleRule = require(\"./CSSStyleRule\").CSSStyleRule;\nCSSOM.CSSImportRule = require(\"./CSSImportRule\").CSSImportRule;\nCSSOM.CSSMediaRule = require(\"./CSSMediaRule\").CSSMediaRule;\nCSSOM.CSSSupportsRule = require(\"./CSSSupportsRule\").CSSSupportsRule;\nCSSOM.CSSFontFaceRule = require(\"./CSSFontFaceRule\").CSSFontFaceRule;\nCSSOM.CSSHostRule = require(\"./CSSHostRule\").CSSHostRule;\nCSSOM.CSSStyleDeclaration = require('./CSSStyleDeclaration').CSSStyleDeclaration;\nCSSOM.CSSKeyframeRule = require('./CSSKeyframeRule').CSSKeyframeRule;\nCSSOM.CSSKeyframesRule = require('./CSSKeyframesRule').CSSKeyframesRule;\nCSSOM.CSSValueExpression = require('./CSSValueExpression').CSSValueExpression;\nCSSOM.CSSDocumentRule = require('./CSSDocumentRule').CSSDocumentRule;\n///CommonJS\n"]},"metadata":{},"sourceType":"script"}