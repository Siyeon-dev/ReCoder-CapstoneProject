{"ast":null,"code":"\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\n\nconst {\n  HTML_NS\n} = require(\"../helpers/namespaces\");\n\nexports.implementation = class HTMLCollectionImpl {\n  constructor(globalObject, args, privateData) {\n    this._list = [];\n    this._version = -1;\n    this._element = privateData.element;\n    this._query = privateData.query;\n    this._globalObject = globalObject;\n\n    this._update();\n  }\n\n  get length() {\n    this._update();\n\n    return this._list.length;\n  }\n\n  item(index) {\n    this._update();\n\n    return this._list[index] || null;\n  }\n\n  namedItem(key) {\n    if (key === \"\") {\n      return null;\n    }\n\n    this._update();\n\n    for (const element of this._list) {\n      if (element.getAttributeNS(null, \"id\") === key) {\n        return element;\n      }\n\n      if (element._namespaceURI === HTML_NS) {\n        const name = element.getAttributeNS(null, \"name\");\n\n        if (name === key) {\n          return element;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  _update() {\n    if (this._version < this._element._version) {\n      const snapshot = this._query();\n\n      for (let i = 0; i < snapshot.length; i++) {\n        this._list[i] = snapshot[i];\n      }\n\n      this._list.length = snapshot.length;\n      this._version = this._element._version;\n    }\n  }\n\n  get [idlUtils.supportedPropertyIndices]() {\n    this._update();\n\n    return this._list.keys();\n  }\n\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n\n    const result = new Set();\n\n    for (const element of this._list) {\n      const id = element.getAttributeNS(null, \"id\");\n\n      if (id) {\n        result.add(id);\n      }\n\n      if (element._namespaceURI === HTML_NS) {\n        const name = element.getAttributeNS(null, \"name\");\n\n        if (name) {\n          result.add(name);\n        }\n      }\n    }\n\n    return result;\n  } // Inherit some useful functions from Array.\n\n\n  [Symbol.iterator]() {\n    this._update();\n\n    return this._list[Symbol.iterator]();\n  }\n\n  entries() {\n    this._update();\n\n    return this._list.entries();\n  }\n\n  filter(...args) {\n    this._update();\n\n    return this._list.filter(...args);\n  }\n\n  map(...args) {\n    this._update();\n\n    return this._list.map(...args);\n  }\n\n  indexOf(...args) {\n    this._update();\n\n    return this._list.indexOf(...args);\n  }\n\n};","map":{"version":3,"sources":["/Library/WebServer/Documents/capstone/capstone-project-re-coder/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCollection-impl.js"],"names":["idlUtils","require","HTML_NS","exports","implementation","HTMLCollectionImpl","constructor","globalObject","args","privateData","_list","_version","_element","element","_query","query","_globalObject","_update","length","item","index","namedItem","key","getAttributeNS","_namespaceURI","name","snapshot","i","supportedPropertyIndices","keys","supportedPropertyNames","result","Set","id","add","Symbol","iterator","entries","filter","map","indexOf"],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst idlUtils = require(\"../generated/utils.js\");\nconst { HTML_NS } = require(\"../helpers/namespaces\");\n\nexports.implementation = class HTMLCollectionImpl {\n  constructor(globalObject, args, privateData) {\n    this._list = [];\n    this._version = -1;\n    this._element = privateData.element;\n    this._query = privateData.query;\n\n    this._globalObject = globalObject;\n\n    this._update();\n  }\n  get length() {\n    this._update();\n    return this._list.length;\n  }\n  item(index) {\n    this._update();\n    return this._list[index] || null;\n  }\n  namedItem(key) {\n    if (key === \"\") {\n      return null;\n    }\n    this._update();\n    for (const element of this._list) {\n      if (element.getAttributeNS(null, \"id\") === key) {\n        return element;\n      }\n      if (element._namespaceURI === HTML_NS) {\n        const name = element.getAttributeNS(null, \"name\");\n        if (name === key) {\n          return element;\n        }\n      }\n    }\n    return null;\n  }\n  _update() {\n    if (this._version < this._element._version) {\n      const snapshot = this._query();\n      for (let i = 0; i < snapshot.length; i++) {\n        this._list[i] = snapshot[i];\n      }\n      this._list.length = snapshot.length;\n      this._version = this._element._version;\n    }\n  }\n  get [idlUtils.supportedPropertyIndices]() {\n    this._update();\n    return this._list.keys();\n  }\n  get [idlUtils.supportedPropertyNames]() {\n    this._update();\n    const result = new Set();\n    for (const element of this._list) {\n      const id = element.getAttributeNS(null, \"id\");\n      if (id) {\n        result.add(id);\n      }\n      if (element._namespaceURI === HTML_NS) {\n        const name = element.getAttributeNS(null, \"name\");\n        if (name) {\n          result.add(name);\n        }\n      }\n    }\n    return result;\n  }\n\n  // Inherit some useful functions from Array.\n  [Symbol.iterator]() {\n    this._update();\n    return this._list[Symbol.iterator]();\n  }\n  entries() {\n    this._update();\n    return this._list.entries();\n  }\n  filter(...args) {\n    this._update();\n    return this._list.filter(...args);\n  }\n  map(...args) {\n    this._update();\n    return this._list.map(...args);\n  }\n  indexOf(...args) {\n    this._update();\n    return this._list.indexOf(...args);\n  }\n};\n"]},"metadata":{},"sourceType":"script"}